import{_ as N,o as i,c as d,a as w,b as H,t as m,d as o,r as p,e as a,F as P,f as Q,n as M,g as Z,u as K,h as B,i as C,j as L,k as W,w as I,l as T,m as U,v as q,p as E,q as R,s as O,R as Y,x as X,y as $,I as ee,z as te,A as se,B as oe,E as ae}from"./reuseable.59928ad4.js";const le={name:"HasError",props:{errors:{type:Object,required:!0},field:{type:String,required:!0},message:{type:String,default:null}},computed:{getMessage(){return this.message?this.message:"The above field is required."}}},re=["innerHTML"];function ne(r,t,n,e,_,b){return n.errors.includes(n.field)?(i(),d("div",{key:0,class:"swizard__error",innerHTML:b.getMessage},null,8,re)):w("",!0)}const ie=N(le,[["render",ne]]),de={type:"button",class:"sbutton sbutton__primary sbutton--active"},_e={key:0,class:"sbutton__primary__icon"},ue={__name:"NextButton",props:{text:{type:String,default:"Next"},noIcon:{type:Boolean,default:!1}},setup(r){return(t,n)=>{const e=p("IconNext");return i(),d("button",de,[H(m(r.text)+" ",1),r.noIcon?w("",!0):(i(),d("span",_e,[o(e)]))])}}},me={type:"button",class:"sbutton sbutton__back"},ce={class:"sbutton__primary__back"},fe={__name:"BackButton",props:{text:{type:String,default:"Next"}},setup(r){return(t,n)=>{const e=p("IconPrevious");return i(),d("button",me,[a("span",ce,[o(e)]),H(m(r.text),1)])}}},pe={class:"smodal__header"},be={class:"smodal__title"},ge=a("span",null,"\xD7",-1),ye=[ge],ve={class:"smodal__body"},he={class:"smodal__body__p"},we={class:"smodal__footer"},Ve={__name:"ModalMarkup",props:{title:{type:String,default:"Title"},text:{type:String,default:"Text"},buttonTitle:{type:String,default:"Close"}},setup(r){const t=r;return(n,e)=>(i(),d(P,null,[a("div",pe,[a("p",be,m(t.title),1),a("button",{type:"button",class:"smodal__close",onClick:e[0]||(e[0]=_=>n.$emit("close"))},ye)]),a("div",ve,[a("p",he,m(t.text),1)]),a("div",we,[a("button",{onClick:e[1]||(e[1]=_=>n.$emit("close")),class:"smodal__footer__btn"},"close")])],64))}},D={year_1:null,year_2:null,year_3:null,year_4:null},F={title:null,first_name:null,last_name:null},j={day:null,month:null,year:null},l=Q({url:"/index.php/ReclaimPPI/lead",step:1,showAssesmentModal:!1,showYearsInfoModal:!1,showNIModal:!1,loading:!1,self_assesment_message:"Unfortunately we can\u2019t proceed with your claim and you will have to contact your accountant to do this for you.",ni_message:"NI Number is required to identify your tax information with HMRC. Example JJ123456C",years_message:"A rough estimate of amount you've received in pounds (\xA3)",errors:[],year:Object.keys(D),name:Object.keys(F),dob:Object.keys(j),steps:[{title:"PPI Claim Details",number:1},{title:"About You",number:2},{title:"Contact Details",number:3},{title:"Start Claim",number:4}],required:[["self_assesment","year","less_earning","ni_number"],["name","dob"],["email","phone","address","postcode","agree","signature"]],form:[{self_assesment:null,...D,less_earning:null,ni_number:null,cant_remember:null},{...F,...j},{email:null,phone:null,address:null,postcode:null,agree:null},{referal_code:null,signature:null}]}),xe={class:"sprogress-bar__step-number"},Ie={__name:"ProgressStep",props:{title:{type:String,default:"Step"},step:{type:Number,required:!0},number:{type:Number,required:!0},current:{type:Number,required:!0}},setup(r){const t=r;return(n,e)=>(i(),d("div",{class:M(["sprogress-bar__step",{"sprogress-bar__step--complete":t.current>=t.step+1,"sprogress-bar__step--active":t.current>=t.step}])},[a("p",{class:M(["sprogress-bar__step__text",{"sprogress-bar__step__text--active":t.step>0}])},m(t.title),3),a("div",xe,m(t.number),1)],2))}},ke={class:"swizard__title"},Se={class:"swizard__title__p text-center step-title"},ze=a("hr",{class:"swizard__title__line"},null,-1),Ce={__name:"StepTitle",props:{title:{type:String,required:!0}},setup(r){const t=r;return(n,e)=>(i(),d("div",ke,[a("p",Se,m(t.title),1),ze]))}},Me={},Be=Z('<div class="swizard__claim swizard__title"><h3>Great News!</h3><p class="swizard__claim__congrat"><span class="swizard__claim__success">Congratulations, </span> You 100% meet the criteria </p><p class="swizard__claim__time"> Our customers get money back in 6 Weeks! </p><hr class="swizard__title__line"></div><div class="swizard__claim__message"><p> Signing below agrees you into our <a target="__blank" href="/terms-conditions" class="swizard__claim__message__terms">terms and conditions</a> and our NO WIN NO FEE services. </p></div>',2);function Ne(r,t){return Be}const Pe=N(Me,[["render",Ne]]),Ae={class:"swizard__radio__items__item"},Te=["id","name","value","checked"],Ue=["for"],qe={__name:"RadioBox",props:{modelValue:{type:Boolean,default:!1},value:{type:Boolean,default:!1},name:String,label:{type:String,default:"label"}},setup(r){const t=r;let n=Q({uuid:K.v4()});const e=B(()=>t.modelValue==t.value);return(_,b)=>(i(),d("div",Ae,[a("input",{id:C(n).uuid,type:"radio",name:t.name,value:t.value,checked:C(e),onChange:b[0]||(b[0]=g=>_.$emit("update:modelValue",g.target.value=="true"))},null,40,Te),a("label",{for:C(n).uuid},[a("span",null,m(t.label),1)],8,Ue)]))}},Ee={class:"swizard__radio"},Re={class:"swizard__radio__items"},Oe={__name:"RadioQuestion",props:{question:{type:String,default:"Question"},field:{type:String,default:"field_1"},errors:{type:Array,default:()=>[]},errorMessage:{type:String,default:null}},setup(r){const t=r;return(n,e)=>{const _=p("HasError");return i(),d("div",Ee,[a("p",null,m(t.question),1),a("div",Re,[L(n.$slots,"default")]),o(_,{field:t.field,errors:t.errors,message:t.errorMessage},null,8,["field","errors","message"])])}}},Ye={class:"swizard__years__items"},De={class:"swizard__years__items__item"},Fe=a("span",{class:"swizard__years__items__item__left-icon"},"\xA3",-1),je=["value"],He={__name:"AmountBox",props:{label:{type:String,default:"Question"},modelValue:String},setup(r){return(t,n)=>{const e=p("IconInfo");return i(),d("div",Ye,[a("p",null,m(r.label),1),a("div",De,[Fe,a("input",{type:"number",value:r.modelValue,onInput:n[0]||(n[0]=_=>t.$emit("update:modelValue",_.target.value)),class:"swizard__years__items__item__box hide-arrows"},null,40,je),a("span",{class:"swizard__years__items__item__right-icon",onClick:n[1]||(n[1]=_=>t.$emit("icon:click"))},[o(e)])])])}}},Qe={class:"swizard__input"},Le={class:"swizard__input__item"},We=["type","value"],Ge={__name:"InputText",props:{label:{type:String,default:"Question"},type:String,modelValue:String},setup(r){return(t,n)=>(i(),d("div",Qe,[a("p",null,m(r.label),1),a("div",Le,[a("input",{type:r.type,value:r.modelValue,onInput:n[0]||(n[0]=e=>t.$emit("update:modelValue",e.target.value)),class:"swizard__input__item__box"},null,40,We),L(t.$slots,"default")])]))}},Je={class:"swizard__input"},Ze={key:0},Ke={class:"swizard__input__item"},Xe={value:null},$e=["selected","value"],et={class:"swizard__input__item__right-icon"},tt={__name:"InputSelect",props:{label:String,options:{type:Array,required:!0},modelValue:String,inSelect:{type:Boolean,default:!1}},setup(r){const t=r;function n(_){return _.value||_}function e(_){return _.label||_}return(_,b)=>{const g=p("IconSelect");return i(),d("div",Je,[r.inSelect?w("",!0):(i(),d("p",Ze,m(r.label),1)),a("div",Ke,[a("select",{onChange:b[0]||(b[0]=c=>_.$emit("update:modelValue",c.target.value)),class:"swizard__input__item__box select"},[a("option",Xe,m(t.inSelect?t.label:"Select"),1),(i(!0),d(P,null,W(r.options,(c,u)=>(i(),d("option",{selected:t.modelValue==n(c),value:n(c),key:u},m(e(c)),9,$e))),128))],32),a("span",et,[o(g)])])])}}},st=["Mr.","Mrs.","Miss","Ms","Dr"],ot={title:st},at={class:"smodal"},lt={class:"smodal__body"},rt={class:"swizard"},nt={class:"sprogress-bar"},it={key:0,class:"swizard__step"},dt=a("div",{class:"swizard__title"},[a("p",{class:"swizard__title__p"}," Please provide us with the TOTAL amount you received for your PPI refunds in the relevant tax years below ")],-1),_t={class:"swizard__years"},ut={class:"swizard__sign__checkbox"},mt=["disabled"],ct=a("label",{for:"cant_remember"},"Can't remember (Provide it later) ",-1),ft={key:0,class:"swizard__submit"},pt={key:1,class:"swizard__step"},bt={class:"swizard__about"},gt=a("p",{style:{"margin-bottom":"5px"}},"DOB",-1),yt={class:"swizard__about"},vt={class:"swizard__submit"},ht={key:2,class:"swizard__step"},wt={class:"swizard__sign__checkbox"},Vt=a("label",{for:"agreed"},[a("small",null,"I agree for Reclaim My PPI Tax to contact me with regards to any tax rebate purposes.")],-1),xt={class:"swizard__submit"},It={key:3,class:"swizard__step"},kt={class:"swizard__input"},St=a("p",null,"Please draw your signature below in the green box.",-1),zt={class:"swizard__input__item"},Ct={class:"swizard__submit"};function Mt(r,t,n,e,_,b){const g=p("ModalMarkup"),c=p("vue-final-modal"),u=p("HasError"),S=p("IconInfo"),h=p("NextButton"),k=p("BackButton"),z=p("VueSignaturePad");return i(),d("div",at,[o(c,{classes:"smodal__container","content-class":"smodal__content",modelValue:e.state.showAssesmentModal,"onUpdate:modelValue":t[0]||(t[0]=s=>e.state.showAssesmentModal=s)},{default:I(({close:s})=>[o(g,{title:"Warning!!!",text:e.state.self_assesment_message,onClose:s},null,8,["text","onClose"])]),_:1},8,["modelValue"]),o(c,{classes:"smodal__container","content-class":"smodal__content",modelValue:e.state.showYearsInfoModal,"onUpdate:modelValue":t[1]||(t[1]=s=>e.state.showYearsInfoModal=s)},{default:I(({close:s})=>[o(g,{title:"Info!",text:e.state.years_message,onClose:s},null,8,["text","onClose"])]),_:1},8,["modelValue"]),o(c,{classes:"smodal__container","content-class":"smodal__content",modelValue:e.state.showNIModal,"onUpdate:modelValue":t[2]||(t[2]=s=>e.state.showNIModal=s)},{default:I(({close:s})=>[o(g,{title:"Info!",text:e.state.ni_message,onClose:s},null,8,["text","onClose"])]),_:1},8,["modelValue"]),a("div",lt,[a("div",rt,[a("div",nt,[(i(!0),d(P,null,W(e.state.steps,(s,V)=>(i(),T(e.ProgressStep,{class:M({"is-last":e.state.steps.length==V+1,"is-first":V==0}),key:V,title:s.title,number:s.number,step:V+1,current:e.state.step},null,8,["class","title","number","step","current"]))),128))]),e.state.step==1?(i(),d("div",it,[o(e.StepTitle,{title:"Please enter your PPI Claim details"}),o(e.RadioQuestion,{question:"Were you required to complete a Self-Assessment the year you got your PPI refund?",field:"self_assesment",errors:e.state.errors},{default:I(()=>[o(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].self_assesment,"onUpdate:modelValue":[t[3]||(t[3]=s=>e.state.form[0].self_assesment=s),e.selfAssesedClick],value:!0,label:"Yes"},null,8,["modelValue"]),o(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].self_assesment,"onUpdate:modelValue":t[4]||(t[4]=s=>e.state.form[0].self_assesment=s),value:!1,label:"No"},null,8,["modelValue"])]),_:1},8,["errors"]),dt,a("div",_t,[o(e.AmountBox,{modelValue:e.state.form[0].year_1,"onUpdate:modelValue":t[5]||(t[5]=s=>e.state.form[0].year_1=s),label:"Apr 2018 - Mar 2019","onIcon:click":t[6]||(t[6]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(e.AmountBox,{modelValue:e.state.form[0].year_2,"onUpdate:modelValue":t[7]||(t[7]=s=>e.state.form[0].year_2=s),label:"Apr 2019 - Mar 2020","onIcon:click":t[8]||(t[8]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(e.AmountBox,{modelValue:e.state.form[0].year_3,"onUpdate:modelValue":t[9]||(t[9]=s=>e.state.form[0].year_3=s),label:"Apr 2020 - Mar 2021","onIcon:click":t[10]||(t[10]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(e.AmountBox,{modelValue:e.state.form[0].year_4,"onUpdate:modelValue":t[11]||(t[11]=s=>e.state.form[0].year_4=s),label:"Apr 2021 - Mar 2022","onIcon:click":t[12]||(t[12]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(u,{field:"year",errors:e.state.errors,message:"Please fill at least one record"},null,8,["errors"])]),o(e.RadioQuestion,{question:"Were you earning less than \xA350,000.00 a year at the time you received your PPI refund?",field:"less_earning",errors:e.state.errors},{default:I(()=>[o(e.RadioBox,{name:"less_earning",modelValue:e.state.form[0].less_earning,"onUpdate:modelValue":t[13]||(t[13]=s=>e.state.form[0].less_earning=s),value:!0,label:"Yes"},null,8,["modelValue"]),o(e.RadioBox,{name:"less_earning",modelValue:e.state.form[0].less_earning,"onUpdate:modelValue":t[14]||(t[14]=s=>e.state.form[0].less_earning=s),value:!1,label:"No"},null,8,["modelValue"])]),_:1},8,["errors"]),o(e.InputText,{label:"National insurance (NI) Number",modelValue:e.state.form[0].ni_number,"onUpdate:modelValue":t[16]||(t[16]=s=>e.state.form[0].ni_number=s)},{default:I(()=>[a("span",{class:"swizard__input__item__right-icon ni-number",onClick:t[15]||(t[15]=s=>e.state.showNIModal=!0)},[o(S)])]),_:1},8,["modelValue"]),o(u,{field:"invalid_ni",errors:e.state.errors,message:"Invalid NI Number"},null,8,["errors"]),o(u,{field:"ni_number",errors:e.state.errors},null,8,["errors"]),a("div",ut,[U(a("input",{id:"cant_remember",disabled:e.niCheckDisabled,type:"checkbox",value:!0,"onUpdate:modelValue":t[17]||(t[17]=s=>e.state.form[0].cant_remember=s)},null,8,mt),[[q,e.state.form[0].cant_remember]]),ct]),e.state.form[0].self_assesment?(i(),T(u,{key:1,style:{"text-align":"center"},field:"already_assessed",errors:["already_assessed"],message:e.state.self_assesment_message},null,8,["message"])):(i(),d("div",ft,[o(h,{text:"Continue",onClick:e.stepForward})]))])):w("",!0),e.state.step==2?(i(),d("div",pt,[o(e.StepTitle,{title:"Please complete your details below to start your claim"}),a("div",bt,[o(e.InputSelect,{class:"swizard__about__item",label:"Title",options:e.options.title,modelValue:e.state.form[1].title,"onUpdate:modelValue":t[18]||(t[18]=s=>e.state.form[1].title=s)},null,8,["options","modelValue"]),o(e.InputText,{class:"swizard__about__item",label:"First Name",modelValue:e.state.form[1].first_name,"onUpdate:modelValue":t[19]||(t[19]=s=>e.state.form[1].first_name=s)},null,8,["modelValue"]),o(e.InputText,{class:"swizard__about__item",label:"Last Name",modelValue:e.state.form[1].last_name,"onUpdate:modelValue":t[20]||(t[20]=s=>e.state.form[1].last_name=s)},null,8,["modelValue"])]),o(u,{field:"name",errors:e.state.errors,message:"The above fields are required"},null,8,["errors"]),gt,a("div",yt,[o(e.InputSelect,{class:"swizard__about__item",label:"Day","in-select":"",options:e.range(1,1,31),modelValue:e.state.form[1].day,"onUpdate:modelValue":t[21]||(t[21]=s=>e.state.form[1].day=s)},null,8,["options","modelValue"]),o(e.InputSelect,{class:"swizard__about__item",label:"Month","in-select":"",options:e.range(1,1,12),modelValue:e.state.form[1].month,"onUpdate:modelValue":t[22]||(t[22]=s=>e.state.form[1].month=s)},null,8,["options","modelValue"]),o(e.InputSelect,{class:"swizard__about__item",label:"Year","in-select":"",options:e.range(new Date().getFullYear()-100,1,new Date().getFullYear()).reverse(),modelValue:e.state.form[1].year,"onUpdate:modelValue":t[23]||(t[23]=s=>e.state.form[1].year=s)},null,8,["options","modelValue"])]),o(u,{field:"dob",errors:e.state.errors,message:"The above fields are required"},null,8,["errors"]),a("div",vt,[o(h,{text:"Continue",onClick:e.stepForward}),o(k,{text:"Back",onClick:e.stepBack})])])):w("",!0),e.state.step==3?(i(),d("div",ht,[o(e.StepTitle,{title:"Enter your contact details to claim your tax back"}),o(e.InputText,{type:"email",label:"Email",modelValue:e.state.form[2].email,"onUpdate:modelValue":t[24]||(t[24]=s=>e.state.form[2].email=s)},null,8,["modelValue"]),o(u,{field:"email",errors:e.state.errors},null,8,["errors"]),o(u,{field:"invalid_email",errors:e.state.errors,message:"Invalid Email"},null,8,["errors"]),o(e.InputText,{type:"tel",label:"Phone Number",modelValue:e.state.form[2].phone,"onUpdate:modelValue":t[25]||(t[25]=s=>e.state.form[2].phone=s)},null,8,["modelValue"]),o(u,{field:"phone",errors:e.state.errors},null,8,["errors"]),o(u,{field:"invalid_phone",errors:e.state.errors,message:"Invalid Phone Number"},null,8,["errors"]),o(e.InputText,{label:"Address",modelValue:e.state.form[2].address,"onUpdate:modelValue":t[26]||(t[26]=s=>e.state.form[2].address=s)},null,8,["modelValue"]),o(u,{field:"address",errors:e.state.errors},null,8,["errors"]),o(e.InputText,{label:"Postcode",modelValue:e.state.form[2].postcode,"onUpdate:modelValue":t[27]||(t[27]=s=>e.state.form[2].postcode=s)},null,8,["modelValue"]),o(u,{field:"postcode",errors:e.state.errors},null,8,["errors"]),a("div",wt,[U(a("input",{id:"agreed",type:"checkbox",value:1,"onUpdate:modelValue":t[28]||(t[28]=s=>e.state.form[2].agree=s)},null,512),[[q,e.state.form[2].agree]]),Vt]),o(u,{field:"agree",errors:e.state.errors},null,8,["errors"]),a("div",xt,[o(h,{text:"Continue",onClick:e.stepForward}),o(k,{text:"Back",onClick:e.stepBack})])])):w("",!0),e.state.step==4?(i(),d("div",It,[o(e.GreatNews),o(e.InputText,{label:"Do you have a referral code? (optional)",modelValue:e.state.form[3].referal_code,"onUpdate:modelValue":t[29]||(t[29]=s=>e.state.form[3].referal_code=s)},null,8,["modelValue"]),a("div",kt,[St,a("div",zt,[o(z,{width:"100%",height:"200px",style:{border:"1px solid green","background-color":"white"},ref:"signaturePad"},null,512),o(u,{field:"signature",errors:e.state.errors,message:"Signature required"},null,8,["errors"])])]),a("small",{class:"clear-signature",onClick:e.clearSignature},"Clear Signature"),a("div",Ct,[o(h,{disabled:e.state.loading,"no-icon":"",text:e.state.loading?"Please Wait ---":"Start Your Claim",onClick:e.submit},null,8,["disabled","text"]),o(k,{text:"Back",onClick:e.stepBack})])])):w("",!0)])])])}const Bt={__name:"App",setup(r,{expose:t}){t();const{filterEmptyKeys:n,hasSome:e,hasEvery:_,arrayIntersection:b,range:g}=Y(),c=E(null);R(()=>{});const u=B(()=>{var y;return l.form[0].cant_remember=!1,(y=l.form[0].ni_number)==null?void 0:y.length});function S(){setTimeout(()=>{console.log(l.form[0]),l.showAssesmentModal=!0},0)}function h(){const y=Object.values(l.required[l.step-1]),f=l.form[l.step-1];y.includes("ni_number")&&f.cant_remember&&y.splice(y.indexOf("ni_number"),1);const x=n(f);let v=b(x,y);if(l.step==1){_(Object.values(l.year),x)&&v.push("year"),f.self_assesment&&v.push("already_assessed");var G=new RegExp("^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$");![null,""].includes(f.ni_number)&&!G.test(f.ni_number)&&v.push("invalid_ni")}if(l.step==2&&(e(Object.values(l.name),x)&&v.push("name"),e(Object.values(l.dob),x)&&v.push("dob")),l.step==3){var J=/\S+@\S+\.\S+/;f.email!=null&&!J.test(f.email)&&v.push("invalid_email"),f.phone!=null&&(f.phone.length!=11||f.phone.charAt(0)!="0")&&v.push("invalid_phone")}return l.errors=[...v],!l.errors.length}function k(){h()&&l.step>=1&&l.step<=4&&l.step++}function z(){console.log("back"),l.step>1&&l.step<=4&&l.step--}function s(){c.value.clearSignature()}async function V(){const{isEmpty:y,data:f}=c.value.saveSignature();if(y){l.errors.push("signature");return}l.loading=!0,l.form[3].signature=f;const x={...l.form[0],...l.form[1],...l.form[2],...l.form[3]};await O.post(l.url,x),l.loading=!1,window.location.href="/thank-you"}const A={filterEmptyKeys:n,hasSome:e,hasEvery:_,arrayIntersection:b,range:g,signaturePad:c,niCheckDisabled:u,selfAssesedClick:S,validate:h,stepForward:k,stepBack:z,clearSignature:s,submit:V,computed:B,onMounted:R,ref:E,axios:O,state:l,Reusable:Y,ProgressStep:Ie,StepTitle:Ce,GreatNews:Pe,RadioBox:qe,RadioQuestion:Oe,AmountBox:He,InputText:Ge,InputSelect:tt,options:ot};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}},Nt=N(Bt,[["render",Mt]]);X(Nt).use($).component("IconInfo",ee).component("IconNext",te).component("IconPrevious",se).component("IconSelect",oe).component("HasError",ie).component("NextButton",ue).component("BackButton",fe).component("VueFinalModal",ae).component("ModalMarkup",Ve).mount("#app");
