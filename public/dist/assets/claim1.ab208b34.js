import{_ as N,o as i,c as d,a as w,b as H,t as m,d as o,r as b,e as a,F as P,f as Q,n as C,g as K,u as X,h as B,i as M,j as L,k as W,w as I,l as T,m as U,v as q,p as E,q as O,s as R,R as Y,x as $,y as ee,I as te,z as se,A as oe,B as ae,E as le}from"./reuseable.1784e1e3.js";const re={name:"HasError",props:{errors:{type:Object,required:!0},field:{type:String,required:!0},message:{type:String,default:null}},computed:{getMessage(){return this.message?this.message:"The above field is required."}}},ne=["innerHTML"];function ie(r,t,n,e,_,g){return n.errors.includes(n.field)?(i(),d("div",{key:0,class:"swizard__error",innerHTML:g.getMessage},null,8,ne)):w("",!0)}const de=N(re,[["render",ie]]),_e={type:"button",class:"sbutton sbutton__primary sbutton--active"},ue={key:0,class:"sbutton__primary__icon"},me={__name:"NextButton",props:{text:{type:String,default:"Next"},noIcon:{type:Boolean,default:!1}},setup(r){return(t,n)=>{const e=b("IconNext");return i(),d("button",_e,[H(m(r.text)+" ",1),r.noIcon?w("",!0):(i(),d("span",ue,[o(e)]))])}}},ce={type:"button",class:"sbutton sbutton__back"},fe={class:"sbutton__primary__back"},pe={__name:"BackButton",props:{text:{type:String,default:"Next"}},setup(r){return(t,n)=>{const e=b("IconPrevious");return i(),d("button",ce,[a("span",fe,[o(e)]),H(m(r.text),1)])}}},be={class:"smodal__header"},ge={class:"smodal__title"},ye=a("span",null,"\xD7",-1),ve=[ye],he={class:"smodal__body"},we={class:"smodal__body__p"},Ve={class:"smodal__footer"},xe={__name:"ModalMarkup",props:{title:{type:String,default:"Title"},text:{type:String,default:"Text"},buttonTitle:{type:String,default:"Close"}},setup(r){const t=r;return(n,e)=>(i(),d(P,null,[a("div",be,[a("p",ge,m(t.title),1),a("button",{type:"button",class:"smodal__close",onClick:e[0]||(e[0]=_=>n.$emit("close"))},ve)]),a("div",he,[a("p",we,m(t.text),1)]),a("div",Ve,[a("button",{onClick:e[1]||(e[1]=_=>n.$emit("close")),class:"smodal__footer__btn"},"Close")])],64))}},D={year_1:null,year_2:null,year_3:null,year_4:null},F={title:null,first_name:null,last_name:null},j={day:null,month:null,year:null},l=Q({url:"/ReclaimPPI/lead",step:1,showAssesmentModal:!1,showYearsInfoModal:!1,showNIModal:!1,loading:!1,self_assesment_message:"Unfortunately we can\u2019t proceed with your claim and you will have to contact your accountant to do this for you.",ni_message:"NI Number is required to identify your tax information with HMRC. Example JJ123456C",years_message:"A rough estimate of amount you've received in pounds (\xA3)",errors:[],year:Object.keys(D),name:Object.keys(F),dob:Object.keys(j),steps:[{title:"PPI Claim Details",number:1},{title:"About You",number:2},{title:"Contact Details",number:3},{title:"Start Claim",number:4}],required:[["self_assesment","year","less_earning","ni_number"],["name","dob"],["email","phone","address","postcode","agree","signature"]],form:[{self_assesment:null,...D,less_earning:null,ni_number:null,cant_remember:null},{...F,...j},{email:null,phone:null,address:null,postcode:null,agree:null},{referal_code:null,signature:null}]}),Ie={class:"sprogress-bar__step-number"},ke={__name:"ProgressStep",props:{title:{type:String,default:"Step"},step:{type:Number,required:!0},number:{type:Number,required:!0},current:{type:Number,required:!0}},setup(r){const t=r;return(n,e)=>(i(),d("div",{class:C(["sprogress-bar__step",{"sprogress-bar__step--complete":t.current>=t.step+1,"sprogress-bar__step--active":t.current>=t.step}])},[a("p",{class:C(["sprogress-bar__step__text",{"sprogress-bar__step__text--active":t.step<=t.current}])},m(t.title),3),a("div",Ie,m(t.number),1)],2))}},Se={class:"swizard__title"},ze={class:"swizard__title__p text-center step-title"},Me=a("hr",{class:"swizard__title__line"},null,-1),Ce={__name:"StepTitle",props:{title:{type:String,required:!0}},setup(r){const t=r;return(n,e)=>(i(),d("div",Se,[a("p",ze,m(t.title),1),Me]))}},Be={},Ne=K('<div class="swizard__claim swizard__title"><h3>Great News!</h3><p class="swizard__claim__congrat"><span class="swizard__claim__success">Congratulations, </span> You 100% meet the criteria </p><p class="swizard__claim__time"> Our customers get money back in 6 Weeks! </p><hr class="swizard__title__line"></div><div class="swizard__claim__message"><p> Signing below agrees you into our <a target="__blank" href="/terms-conditions" class="swizard__claim__message__terms">terms and conditions</a> and our NO WIN NO FEE services. </p></div>',2);function Pe(r,t){return Ne}const Ae=N(Be,[["render",Pe]]),Te={class:"swizard__radio__items__item"},Ue=["id","name","value","checked"],qe=["for"],Ee={__name:"RadioBox",props:{modelValue:{type:Boolean,default:!1},value:{type:Boolean,default:!1},name:String,label:{type:String,default:"label"}},setup(r){const t=r;let n=Q({uuid:X.v4()});const e=B(()=>t.modelValue==t.value);return(_,g)=>(i(),d("div",Te,[a("input",{id:M(n).uuid,type:"radio",name:t.name,value:t.value,checked:M(e),onChange:g[0]||(g[0]=y=>_.$emit("update:modelValue",y.target.value=="true"))},null,40,Ue),a("label",{for:M(n).uuid},[a("span",null,m(t.label),1)],8,qe)]))}},Oe={class:"swizard__radio"},Re={class:"swizard__radio__items"},Ye={__name:"RadioQuestion",props:{question:{type:String,default:"Question"},field:{type:String,default:"field_1"},errors:{type:Array,default:()=>[]},errorMessage:{type:String,default:null}},setup(r){const t=r;return(n,e)=>{const _=b("HasError");return i(),d("div",Oe,[a("p",null,m(t.question),1),a("div",Re,[L(n.$slots,"default")]),o(_,{field:t.field,errors:t.errors,message:t.errorMessage},null,8,["field","errors","message"])])}}},De={class:"swizard__years__items"},Fe={class:"swizard__years__items__item"},je=a("span",{class:"swizard__years__items__item__left-icon"},"\xA3",-1),He=["value"],Qe={class:"swizard__years__items__item__right-icon"},Le={__name:"AmountBox",props:{label:{type:String,default:"Question"},modelValue:String},setup(r){return(t,n)=>{const e=b("IconInfo");return i(),d("div",De,[a("p",null,m(r.label),1),a("div",Fe,[je,a("input",{type:"number",value:r.modelValue,onInput:n[0]||(n[0]=_=>t.$emit("update:modelValue",_.target.value)),class:"swizard__years__items__item__box hide-arrows"},null,40,He),a("span",Qe,[o(e,{onMouseover:n[1]||(n[1]=_=>t.$emit("icon:click"))})])])])}}},We={class:"swizard__input"},Je={class:"swizard__input__item"},Ge=["type","value"],Ze={__name:"InputText",props:{label:{type:String,default:"Question"},type:String,modelValue:String},setup(r){return(t,n)=>(i(),d("div",We,[a("p",null,m(r.label),1),a("div",Je,[a("input",{type:r.type,value:r.modelValue,onInput:n[0]||(n[0]=e=>t.$emit("update:modelValue",e.target.value)),class:"swizard__input__item__box"},null,40,Ge),L(t.$slots,"default")])]))}},Ke={class:"swizard__input"},Xe={key:0},$e={class:"swizard__input__item"},et={value:null},tt=["selected","value"],st={class:"swizard__input__item__right-icon"},ot={__name:"InputSelect",props:{label:String,options:{type:Array,required:!0},modelValue:String,inSelect:{type:Boolean,default:!1}},setup(r){const t=r;function n(_){return _.value||_}function e(_){return _.label||_}return(_,g)=>{const y=b("IconSelect");return i(),d("div",Ke,[r.inSelect?w("",!0):(i(),d("p",Xe,m(r.label),1)),a("div",$e,[a("select",{onChange:g[0]||(g[0]=c=>_.$emit("update:modelValue",c.target.value)),class:"swizard__input__item__box select"},[a("option",et,m(t.inSelect?t.label:"Select"),1),(i(!0),d(P,null,W(r.options,(c,u)=>(i(),d("option",{selected:t.modelValue==n(c),value:n(c),key:u},m(e(c)),9,tt))),128))],32),a("span",st,[o(y)])])])}}},at=["Mr","Mrs","Miss","Ms","Dr"],lt=[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],rt={title:at,months:lt},nt={class:"smodal"},it={class:"smodal__body"},dt={class:"swizard"},_t={class:"sprogress-bar"},ut={key:0,class:"swizard__step"},mt=a("div",{class:"swizard__title"},[a("p",{class:"swizard__title__p"}," Please provide us with the TOTAL amount you received for your PPI refunds in the relevant tax years below: ")],-1),ct={class:"swizard__years"},ft={class:"swizard__input__item__right-icon ni-number"},pt={class:"swizard__sign__checkbox"},bt=["disabled"],gt=a("label",{for:"cant_remember"},"Can't remember (Provide it later) ",-1),yt={key:0,class:"swizard__submit"},vt={key:1,class:"swizard__step"},ht={class:"swizard__about"},wt=a("p",{style:{"margin-bottom":"5px","margin-top":"20px","font-weight":"bold"}},"DOB",-1),Vt={class:"swizard__about"},xt={class:"swizard__submit"},It={key:2,class:"swizard__step"},kt={class:"swizard__sign__checkbox",style:{"margin-top":"10px !important"}},St=a("label",{for:"agreed"},[a("small",null,"I agree for Reclaim My PPI Tax to contact me with regards to any tax rebate purposes.")],-1),zt={class:"swizard__submit"},Mt={key:3,class:"swizard__step"},Ct={class:"swizard__input"},Bt=a("p",null,"Please draw your signature below in the green box.",-1),Nt={class:"swizard__input__item"},Pt={class:"swizard__submit"};function At(r,t,n,e,_,g){const y=b("ModalMarkup"),c=b("vue-final-modal"),u=b("HasError"),S=b("IconInfo"),h=b("NextButton"),k=b("BackButton"),z=b("VueSignaturePad");return i(),d("div",nt,[o(c,{classes:"smodal__container","content-class":"smodal__content",modelValue:e.state.showAssesmentModal,"onUpdate:modelValue":t[0]||(t[0]=s=>e.state.showAssesmentModal=s)},{default:I(({close:s})=>[o(y,{title:"Warning!!!",text:e.state.self_assesment_message,onClose:s},null,8,["text","onClose"])]),_:1},8,["modelValue"]),o(c,{classes:"smodal__container","content-class":"smodal__content",modelValue:e.state.showYearsInfoModal,"onUpdate:modelValue":t[1]||(t[1]=s=>e.state.showYearsInfoModal=s)},{default:I(({close:s})=>[o(y,{title:"Info!",text:e.state.years_message,onClose:s},null,8,["text","onClose"])]),_:1},8,["modelValue"]),o(c,{classes:"smodal__container","content-class":"smodal__content",modelValue:e.state.showNIModal,"onUpdate:modelValue":t[2]||(t[2]=s=>e.state.showNIModal=s)},{default:I(({close:s})=>[o(y,{title:"Info!",text:e.state.ni_message,onClose:s},null,8,["text","onClose"])]),_:1},8,["modelValue"]),a("div",it,[a("div",dt,[a("div",_t,[(i(!0),d(P,null,W(e.state.steps,(s,V)=>(i(),T(e.ProgressStep,{class:C({"is-last":e.state.steps.length==V+1,"is-first":V==0}),key:V,title:s.title,number:s.number,step:V+1,current:e.state.step},null,8,["class","title","number","step","current"]))),128))]),e.state.step==1?(i(),d("div",ut,[o(e.StepTitle,{title:"Please enter your PPI Claim details"}),o(e.RadioQuestion,{question:"Were you required to complete a Self-Assessment the year you got your PPI refund?",field:"self_assesment",errors:e.state.errors},{default:I(()=>[o(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].self_assesment,"onUpdate:modelValue":[t[3]||(t[3]=s=>e.state.form[0].self_assesment=s),e.selfAssesedClick],value:!0,label:"Yes"},null,8,["modelValue"]),o(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].self_assesment,"onUpdate:modelValue":t[4]||(t[4]=s=>e.state.form[0].self_assesment=s),value:!1,label:"No"},null,8,["modelValue"])]),_:1},8,["errors"]),mt,a("div",ct,[o(e.AmountBox,{modelValue:e.state.form[0].year_1,"onUpdate:modelValue":t[5]||(t[5]=s=>e.state.form[0].year_1=s),label:"Apr 2018 - Mar 2019","onIcon:click":t[6]||(t[6]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(e.AmountBox,{modelValue:e.state.form[0].year_2,"onUpdate:modelValue":t[7]||(t[7]=s=>e.state.form[0].year_2=s),label:"Apr 2019 - Mar 2020","onIcon:click":t[8]||(t[8]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(e.AmountBox,{modelValue:e.state.form[0].year_3,"onUpdate:modelValue":t[9]||(t[9]=s=>e.state.form[0].year_3=s),label:"Apr 2020 - Mar 2021","onIcon:click":t[10]||(t[10]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(e.AmountBox,{modelValue:e.state.form[0].year_4,"onUpdate:modelValue":t[11]||(t[11]=s=>e.state.form[0].year_4=s),label:"Apr 2021 - Mar 2022","onIcon:click":t[12]||(t[12]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(u,{field:"year",errors:e.state.errors,message:"Please fill at least one record"},null,8,["errors"])]),o(e.RadioQuestion,{question:"Were you earning less than \xA350,000 a year at the time you received your PPI refund?",field:"less_earning",errors:e.state.errors},{default:I(()=>[o(e.RadioBox,{name:"less_earning",modelValue:e.state.form[0].less_earning,"onUpdate:modelValue":t[13]||(t[13]=s=>e.state.form[0].less_earning=s),value:!0,label:"Yes"},null,8,["modelValue"]),o(e.RadioBox,{name:"less_earning",modelValue:e.state.form[0].less_earning,"onUpdate:modelValue":t[14]||(t[14]=s=>e.state.form[0].less_earning=s),value:!1,label:"No"},null,8,["modelValue"])]),_:1},8,["errors"]),o(e.InputText,{label:"National insurance (NI) Number",modelValue:e.state.form[0].ni_number,"onUpdate:modelValue":t[16]||(t[16]=s=>e.state.form[0].ni_number=s)},{default:I(()=>[a("span",ft,[o(S,{onMouseover:t[15]||(t[15]=s=>e.state.showNIModal=!0)})])]),_:1},8,["modelValue"]),o(u,{field:"invalid_ni",errors:e.state.errors,message:"Invalid NI Number"},null,8,["errors"]),o(u,{field:"ni_number",errors:e.state.errors},null,8,["errors"]),a("div",pt,[U(a("input",{id:"cant_remember",disabled:e.niCheckDisabled,type:"checkbox",value:!0,"onUpdate:modelValue":t[17]||(t[17]=s=>e.state.form[0].cant_remember=s)},null,8,bt),[[q,e.state.form[0].cant_remember]]),gt]),e.state.form[0].self_assesment?(i(),T(u,{key:1,style:{"text-align":"center"},field:"already_assessed",errors:["already_assessed"],message:e.state.self_assesment_message},null,8,["message"])):(i(),d("div",yt,[o(h,{text:"Continue",onClick:e.stepForward})]))])):w("",!0),e.state.step==2?(i(),d("div",vt,[o(e.StepTitle,{title:"Please complete your details below to start your claim"}),a("div",ht,[o(e.InputSelect,{class:"swizard__about__item",label:"Title",options:e.options.title,modelValue:e.state.form[1].title,"onUpdate:modelValue":t[18]||(t[18]=s=>e.state.form[1].title=s)},null,8,["options","modelValue"]),o(e.InputText,{class:"swizard__about__item",label:"First Name",modelValue:e.state.form[1].first_name,"onUpdate:modelValue":t[19]||(t[19]=s=>e.state.form[1].first_name=s)},null,8,["modelValue"]),o(e.InputText,{class:"swizard__about__item",label:"Last Name",modelValue:e.state.form[1].last_name,"onUpdate:modelValue":t[20]||(t[20]=s=>e.state.form[1].last_name=s)},null,8,["modelValue"])]),o(u,{field:"name",errors:e.state.errors,message:"The above fields are required"},null,8,["errors"]),wt,a("div",Vt,[o(e.InputSelect,{class:"swizard__about__item",label:"Day","in-select":"",options:e.range(1,1,31),modelValue:e.state.form[1].day,"onUpdate:modelValue":t[21]||(t[21]=s=>e.state.form[1].day=s)},null,8,["options","modelValue"]),o(e.InputSelect,{class:"swizard__about__item",label:"Month","in-select":"",options:e.options.months,modelValue:e.state.form[1].month,"onUpdate:modelValue":t[22]||(t[22]=s=>e.state.form[1].month=s)},null,8,["options","modelValue"]),o(e.InputSelect,{class:"swizard__about__item",label:"Year","in-select":"",options:e.range(new Date().getFullYear()-100,1,new Date().getFullYear()).reverse(),modelValue:e.state.form[1].year,"onUpdate:modelValue":t[23]||(t[23]=s=>e.state.form[1].year=s)},null,8,["options","modelValue"])]),o(u,{field:"dob",errors:e.state.errors,message:"The above fields are required"},null,8,["errors"]),a("div",xt,[o(h,{text:"Continue",onClick:e.stepForward}),o(k,{text:"Back",onClick:e.stepBack})])])):w("",!0),e.state.step==3?(i(),d("div",It,[o(e.StepTitle,{title:"Enter your contact details to claim your tax back"}),o(e.InputText,{type:"email",label:"Email",modelValue:e.state.form[2].email,"onUpdate:modelValue":t[24]||(t[24]=s=>e.state.form[2].email=s)},null,8,["modelValue"]),o(u,{field:"email",errors:e.state.errors},null,8,["errors"]),o(u,{field:"invalid_email",errors:e.state.errors,message:"Invalid Email"},null,8,["errors"]),o(e.InputText,{type:"tel",label:"Phone Number",modelValue:e.state.form[2].phone,"onUpdate:modelValue":t[25]||(t[25]=s=>e.state.form[2].phone=s)},null,8,["modelValue"]),o(u,{field:"phone",errors:e.state.errors},null,8,["errors"]),o(u,{field:"invalid_phone",errors:e.state.errors,message:"Invalid Phone Number"},null,8,["errors"]),o(e.InputText,{label:"Address",modelValue:e.state.form[2].address,"onUpdate:modelValue":t[26]||(t[26]=s=>e.state.form[2].address=s)},null,8,["modelValue"]),o(u,{field:"address",errors:e.state.errors},null,8,["errors"]),o(e.InputText,{label:"Postcode",modelValue:e.state.form[2].postcode,"onUpdate:modelValue":t[27]||(t[27]=s=>e.state.form[2].postcode=s)},null,8,["modelValue"]),o(u,{field:"postcode",errors:e.state.errors},null,8,["errors"]),a("div",kt,[U(a("input",{id:"agreed",type:"checkbox",value:1,"onUpdate:modelValue":t[28]||(t[28]=s=>e.state.form[2].agree=s)},null,512),[[q,e.state.form[2].agree]]),St]),o(u,{field:"agree",errors:e.state.errors},null,8,["errors"]),a("div",zt,[o(h,{text:"Continue",onClick:e.stepForward}),o(k,{text:"Back",onClick:e.stepBack})])])):w("",!0),e.state.step==4?(i(),d("div",Mt,[o(e.GreatNews),o(e.InputText,{label:"Do you have a referral code? (optional)",modelValue:e.state.form[3].referal_code,"onUpdate:modelValue":t[29]||(t[29]=s=>e.state.form[3].referal_code=s)},null,8,["modelValue"]),a("div",Ct,[Bt,a("div",Nt,[o(z,{width:"100%",height:"200px",style:{border:"1px solid green","background-color":"white"},ref:"signaturePad"},null,512),o(u,{field:"signature",errors:e.state.errors,message:"Signature required"},null,8,["errors"])])]),a("small",{class:"clear-signature",onClick:e.clearSignature},"Clear Signature"),a("div",Pt,[o(h,{disabled:e.state.loading,"no-icon":"",text:e.state.loading?"Please Wait ---":"Start Your Claim",onClick:e.submit},null,8,["disabled","text"]),o(k,{text:"Back",onClick:e.stepBack})])])):w("",!0)])])])}const Tt={__name:"App",setup(r,{expose:t}){t();const{filterEmptyKeys:n,hasSome:e,hasEvery:_,arrayIntersection:g,range:y}=Y(),c=E(null);O(()=>{});const u=B(()=>{var v;return l.form[0].cant_remember=!1,(v=l.form[0].ni_number)==null?void 0:v.length});function S(){setTimeout(()=>{console.log(l.form[0]),l.showAssesmentModal=!0},0)}function h(){const v=Object.values(l.required[l.step-1]),f=l.form[l.step-1];v.includes("ni_number")&&f.cant_remember&&v.splice(v.indexOf("ni_number"),1);const x=n(f);let p=g(x,v);if(l.step==1){_(Object.values(l.year),x)&&p.push("year"),f.self_assesment&&p.push("already_assessed");var G=new RegExp("^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$");![null,""].includes(f.ni_number)&&!G.test(f.ni_number)&&p.push("invalid_ni")}if(l.step==2&&(e(Object.values(l.name),x)&&p.push("name"),e(Object.values(l.dob),x)&&p.push("dob")),l.step==3){var Z=/\S+@\S+\.\S+/;f.email!=null&&!Z.test(f.email)&&p.push("invalid_email"),f.phone!=null&&(f.phone.length!=11||f.phone.charAt(0)!="0")&&p.push("invalid_phone"),!f.agree&&!p.includes("agree")&&p.push("agree")}return l.errors=[...p],!l.errors.length}function k(){h()&&l.step>=1&&l.step<=4&&(l.step++,s())}function z(){l.step>1&&l.step<=4&&(l.step--,s())}function s(){document.getElementById("app").scrollIntoView()}function V(){c.value.clearSignature()}async function J(){const{isEmpty:v,data:f}=c.value.saveSignature();if(v){l.errors.push("signature");return}l.loading=!0,l.form[3].signature=f;const x={...l.form[0],...l.form[1],...l.form[2],...l.form[3]},p=await R.post(l.url,x);console.log(p),l.loading=!1,window.location.href="/thank-you?reference="+p.data.claimID}const A={filterEmptyKeys:n,hasSome:e,hasEvery:_,arrayIntersection:g,range:y,signaturePad:c,niCheckDisabled:u,selfAssesedClick:S,validate:h,stepForward:k,stepBack:z,scrollUp:s,clearSignature:V,submit:J,computed:B,onMounted:O,ref:E,axios:R,state:l,Reusable:Y,ProgressStep:ke,StepTitle:Ce,GreatNews:Ae,RadioBox:Ee,RadioQuestion:Ye,AmountBox:Le,InputText:Ze,InputSelect:ot,options:rt};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}},Ut=N(Tt,[["render",At]]);$(Ut).use(ee).component("IconInfo",te).component("IconNext",se).component("IconPrevious",oe).component("IconSelect",ae).component("HasError",de).component("NextButton",me).component("BackButton",pe).component("VueFinalModal",le).component("ModalMarkup",xe).mount("#app");
