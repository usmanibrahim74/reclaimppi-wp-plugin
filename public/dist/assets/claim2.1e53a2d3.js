import{r as P,a,o as E,c as C,h as N,F as O,L as H,_ as R,i as f,j as h,k as g,l as _,R as v,m as z,p as q,G as D,q as T,s as V,t as G,u as J,x as K,y as Y,z as Z,I as L,A as Q,B as U,C as W,H as X,D as ee,E as se,J as te,K as ne}from"./InputSelect.4d7629e7.js";const w={year_1:null,year_2:null,year_3:null,year_4:null},b={title:null,first_name:null,last_name:null},y={day:null,month:null,year:null},e=P({url:"/index.php/ReclaimPPI/lead",step:1,showAssesmentModal:!1,showYearsInfoModal:!1,showNIModal:!1,loading:!1,self_assesment_message:"Unfortunately we can\u2019t proceed with your claim and you will have to contact your accountant to do this for you.",ni_message:"NI Number is required to identify your tax information with HMRC. Example JJ123456C",years_message:"A rough estimate of amount you've received in pounds (\xA3)",errors:[],year:Object.keys(w),name:Object.keys(b),dob:Object.keys(y),steps:[{title:"PPI Claim Details",number:1},{title:"About You",number:2},{title:"Contact Details",number:3},{title:"Start Claim",number:4}],required:[["self_assesment","year","less_earning","ni_number"],["name","dob"],["email","phone","address","postcode","agree","signature"]],form:[{self_assesment:null,...w,less_earning:null,ni_number:null,cant_remember:null},{...b,...y},{email:null,phone:null,address:null,postcode:null,agree:null},{referal_code:null,signature:null}]}),ae=["Mr.","Mrs.","Miss","Ms","Dr"],oe={title:ae},ie=H('<div class="w-11/12 lg:w-2/6 mx-auto"><div class="bg-gray-200 h-1 flex items-center justify-between"><div class="w-1/3 bg-indigo-700 h-1 flex items-center"><div class="bg-indigo-700 h-6 w-6 rounded-full shadow flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.5" stroke="#FFFFFF" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><path d="M5 12l5 5l10 -10"></path></svg></div></div><div class="w-1/3 flex justify-between bg-indigo-700 h-1 items-center relative"><div class="absolute right-0 -mr-2"><div class="relative bg-white shadow-lg px-2 py-1 rounded mt-16 -mr-12"><svg class="absolute top-0 -mt-1 w-full right-0 left-0" width="16px" height="8px" viewBox="0 0 16 8" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Progress-Bars" transform="translate(-322.000000, -198.000000)" fill="#FFFFFF"><g id="Group-4" transform="translate(310.000000, 198.000000)"><polygon id="Triangle" points="20 0 28 8 12 8"></polygon></g></g></g></svg><p tabindex="0" class="focus:outline-none text-indigo-700 text-xs font-bold">Step 3: Analyzing</p></div></div><div class="bg-indigo-700 h-6 w-6 rounded-full shadow flex items-center justify-center -ml-2"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" width="18" height="18" viewBox="0 0 24 24" stroke-width="1.5" stroke="#FFFFFF" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><path d="M5 12l5 5l10 -10"></path></svg></div><div class="bg-white h-6 w-6 rounded-full shadow flex items-center justify-center -mr-3 relative"><div class="h-3 w-3 bg-indigo-700 rounded-full"></div></div></div><div class="w-1/3 flex justify-end"><div class="bg-white h-6 w-6 rounded-full shadow"></div></div></div></div>',1);function le(x,d,l,i,r,u){return a("ModalMarkup"),a("vue-final-modal"),a("HasError"),a("IconInfo"),a("NextButton"),a("BackButton"),a("VueSignaturePad"),E(),C(O,null,[ie,N("",!0)],64)}const re={__name:"App",setup(x,{expose:d}){d();const{filterEmptyKeys:l,hasSome:i,hasEvery:r,arrayIntersection:u,range:k}=v(),c=f(null);h(()=>{});const F=g(()=>{var t;return e.form[0].cant_remember=!1,(t=e.form[0].ni_number)==null?void 0:t.length});function I(){setTimeout(()=>{console.log(e.form[0]),e.showAssesmentModal=!0},0)}function m(){const t=Object.values(e.required[e.step-1]),s=e.form[e.step-1];t.includes("ni_number")&&s.cant_remember&&t.splice(t.indexOf("ni_number"),1);const o=l(s);let n=u(o,t);if(e.step==1){r(Object.values(e.year),o)&&n.push("year"),s.self_assesment&&n.push("already_assessed");var $=new RegExp("^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$");![null,""].includes(s.ni_number)&&!$.test(s.ni_number)&&n.push("invalid_ni")}if(e.step==2&&(i(Object.values(e.name),o)&&n.push("name"),i(Object.values(e.dob),o)&&n.push("dob")),e.step==3){var A=/\S+@\S+\.\S+/;s.email!=null&&!A.test(s.email)&&n.push("invalid_email"),s.phone!=null&&(s.phone.length!=11||s.phone.charAt(0)!="0")&&n.push("invalid_phone")}return e.errors=[...n],!e.errors.length}function M(){m()&&e.step>=1&&e.step<=4&&e.step++}function S(){console.log("back"),e.step>1&&e.step<=4&&e.step--}function j(){c.value.clearSignature()}async function B(){const{isEmpty:t,data:s}=c.value.saveSignature();if(t){e.errors.push("signature");return}e.loading=!0,e.form[3].signature=s;const o={...e.form[0],...e.form[1],...e.form[2],...e.form[3]};await _.post(e.url,o),e.loading=!1,window.location.href="/thank-you"}const p={filterEmptyKeys:l,hasSome:i,hasEvery:r,arrayIntersection:u,range:k,signaturePad:c,niCheckDisabled:F,selfAssesedClick:I,validate:m,stepForward:M,stepBack:S,clearSignature:j,submit:B,computed:g,onMounted:h,ref:f,axios:_,state:e,Reusable:v,ProgressStep:z,StepTitle:q,GreatNews:D,RadioBox:T,RadioQuestion:V,AmountBox:G,InputText:J,InputSelect:K,options:oe};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}},ue=R(re,[["render",le]]);Y(ue).use(Z).component("IconInfo",L).component("IconNext",Q).component("IconPrevious",U).component("IconSelect",W).component("HasError",X).component("NextButton",ee).component("BackButton",se).component("VueFinalModal",te).component("ModalMarkup",ne).mount("#app");
