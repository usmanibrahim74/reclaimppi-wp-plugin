import{_ as M,o as i,c as d,a as w,b as Y,t as m,d as a,r as f,e as s,F as P,f as Q,n as C,g as K,u as X,h as N,i as B,j as L,k as W,w as S,l as T,m as U,v as q,p as E,q as O,s as R,R as D,x as $,y as ee,I as te,z as se,A as ae,B as oe,E as le}from"./reuseable.b6027418.js";const re={name:"HasError",props:{errors:{type:Object,required:!0},field:{type:String,required:!0},message:{type:String,default:null}},computed:{getMessage(){return this.message?this.message:"The above field is required."}}},ne=["innerHTML"];function ie(l,t,n,e,_,b){return n.errors.includes(n.field)?(i(),d("div",{key:0,class:"swizard__error",innerHTML:b.getMessage},null,8,ne)):w("",!0)}const de=M(re,[["render",ie]]),_e={type:"button",class:"sbutton sbutton__primary sbutton--active"},ue={key:0,class:"sbutton__primary__icon"},me={__name:"NextButton",props:{text:{type:String,default:"Next"},noIcon:{type:Boolean,default:!1}},setup(l){return(t,n)=>{const e=f("IconNext");return i(),d("button",_e,[Y(m(l.text)+" ",1),l.noIcon?w("",!0):(i(),d("span",ue,[a(e)]))])}}},ce={type:"button",class:"sbutton sbutton__back"},pe={class:"sbutton__primary__back"},fe={__name:"BackButton",props:{text:{type:String,default:"Next"}},setup(l){return(t,n)=>{const e=f("IconPrevious");return i(),d("button",ce,[s("span",pe,[a(e)]),Y(m(l.text),1)])}}},be={class:"smodal__header"},ge={class:"smodal__title"},ye=s("span",null,"\xD7",-1),ve=[ye],he={class:"smodal__body"},we={class:"smodal__body__p"},xe={class:"smodal__footer"},Ve={__name:"ModalMarkup",props:{title:{type:String,default:"Title"},text:{type:String,default:"Text"},buttonTitle:{type:String,default:"Close"}},setup(l){const t=l;return(n,e)=>(i(),d(P,null,[s("div",be,[s("p",ge,m(t.title),1),s("button",{type:"button",class:"smodal__close",onClick:e[0]||(e[0]=_=>n.$emit("close"))},ve)]),s("div",he,[s("p",we,m(t.text),1)]),s("div",xe,[s("button",{onClick:e[1]||(e[1]=_=>n.$emit("close")),class:"smodal__footer__btn"},"Close")])],64))}},F={year_1:null,year_2:null,year_3:null,year_4:null},j={title:null,first_name:null,last_name:null},H={day:null,month:null,year:null},r=Q({url:"/ReclaimPPI/lead",step:1,showAssesmentModal:!1,showYearsInfoModal:!1,showNIModal:!1,loading:!1,self_assesment_message:"Unfortunately we can\u2019t proceed with your claim and you will have to contact your accountant to do this for you.",ni_message:"NI Number is required to identify your tax information with HMRC. Example JJ123456C",years_message:"A rough estimate of amount you've received in pounds (\xA3)",errors:[],year:Object.keys(F),name:Object.keys(j),dob:Object.keys(H),steps:[{title:"PPI Claim Details",number:1},{title:"About You",number:2},{title:"Contact Details",number:3},{title:"Start Claim",number:4}],required:[["self_assesment","year","less_earning","ni_number"],["name","dob"],["email","phone","address","postcode","agree","signature"]],form:[{self_assesment:null,...F,less_earning:null,ni_number:null,cant_remember:null},{...j,...H},{email:null,phone:null,address:null,postcode:null,agree:null},{referral_code:null,signature:null}]}),Ie={class:"sprogress-bar__step-number"},Se={__name:"ProgressStep",props:{title:{type:String,default:"Step"},step:{type:Number,required:!0},number:{type:Number,required:!0},current:{type:Number,required:!0}},setup(l){const t=l;return(n,e)=>(i(),d("div",{class:C(["sprogress-bar__step",{"sprogress-bar__step--complete":t.current>=t.step+1,"sprogress-bar__step--active":t.current>=t.step}])},[s("p",{class:C(["sprogress-bar__step__text",{"sprogress-bar__step__text--active":t.step<=t.current}])},m(t.title),3),s("div",Ie,m(t.number),1)],2))}},ke={class:"swizard__title"},ze={class:"swizard__title__p text-center step-title"},Be=s("hr",{class:"swizard__title__line"},null,-1),Ce={__name:"StepTitle",props:{title:{type:String,required:!0}},setup(l){const t=l;return(n,e)=>(i(),d("div",ke,[s("p",ze,m(t.title),1),Be]))}},Ne={},Me=K('<div class="swizard__claim swizard__title"><h3>Great News!</h3><p class="swizard__claim__congrat"><span class="swizard__claim__success">Congratulations, </span> You 100% meet the criteria </p><p class="swizard__claim__time"> Our customers get money back in 6 Weeks! </p><hr class="swizard__title__line"></div><div class="swizard__claim__message"><p> Signing below agrees you into our <a target="__blank" href="/terms-conditions" class="swizard__claim__message__terms">terms and conditions</a> and our NO WIN NO FEE services. </p></div>',2);function Pe(l,t){return Me}const Ae=M(Ne,[["render",Pe]]),Te={class:"swizard__radio__items__item"},Ue=["id","name","value","checked"],qe=["for"],Ee={__name:"RadioBox",props:{modelValue:{type:Boolean,default:!1},value:{type:Boolean,default:!1},name:String,label:{type:String,default:"label"}},setup(l){const t=l;let n=Q({uuid:X.v4()});const e=N(()=>t.modelValue==t.value);return(_,b)=>(i(),d("div",Te,[s("input",{id:B(n).uuid,type:"radio",name:t.name,value:t.value,checked:B(e),onChange:b[0]||(b[0]=v=>_.$emit("update:modelValue",v.target.value=="true"))},null,40,Ue),s("label",{for:B(n).uuid},[s("span",null,m(t.label),1)],8,qe)]))}},Oe={class:"swizard__radio"},Re={class:"swizard__radio__items"},De={__name:"RadioQuestion",props:{question:{type:String,default:"Question"},field:{type:String,default:"field_1"},errors:{type:Array,default:()=>[]},errorMessage:{type:String,default:null}},setup(l){const t=l;return(n,e)=>{const _=f("HasError");return i(),d("div",Oe,[s("p",null,m(t.question),1),s("div",Re,[L(n.$slots,"default")]),a(_,{field:t.field,errors:t.errors,message:t.errorMessage},null,8,["field","errors","message"])])}}},Fe={class:"swizard__years__items"},je={class:"swizard__years__items__item"},He=s("span",{class:"swizard__years__items__item__left-icon"},"\xA3",-1),Ye=["value"],Qe={class:"swizard__years__items__item__right-icon"},Le={class:"tooltip"},We={class:"top"},Je=s("i",null,null,-1),Ge={__name:"AmountBox",props:{label:{type:String,default:"Question"},tooltip:{type:String,default:""},modelValue:String},setup(l){return(t,n)=>{const e=f("IconInfo");return i(),d("div",Fe,[s("p",null,m(l.label),1),s("div",je,[He,s("input",{type:"number",value:l.modelValue,onInput:n[0]||(n[0]=_=>t.$emit("update:modelValue",_.target.value)),class:"swizard__years__items__item__box hide-arrows"},null,40,Ye),s("span",Qe,[s("div",Le,[a(e),s("div",We,[s("p",null,m(l.tooltip),1),Je])])])])])}}},Ze={class:"swizard__input"},Ke={class:"swizard__input__item"},Xe=["type","value"],$e={__name:"InputText",props:{label:{type:String,default:"Question"},type:String,modelValue:String},setup(l){return(t,n)=>(i(),d("div",Ze,[s("p",null,m(l.label),1),s("div",Ke,[s("input",{type:l.type,value:l.modelValue,onInput:n[0]||(n[0]=e=>t.$emit("update:modelValue",e.target.value)),class:"swizard__input__item__box"},null,40,Xe),L(t.$slots,"default")])]))}},et={class:"swizard__input"},tt={key:0},st={class:"swizard__input__item"},at={value:""},ot=["selected","value"],lt={class:"swizard__input__item__right-icon"},rt={__name:"InputSelect",props:{label:String,options:{type:Array,required:!0},modelValue:String,inSelect:{type:Boolean,default:!1}},setup(l){const t=l;function n(_){return _.value||_}function e(_){return _.label||_}return(_,b)=>{const v=f("IconSelect");return i(),d("div",et,[l.inSelect?w("",!0):(i(),d("p",tt,m(l.label),1)),s("div",st,[s("select",{onChange:b[0]||(b[0]=g=>_.$emit("update:modelValue",g.target.value)),class:"swizard__input__item__box select"},[s("option",at,m(t.inSelect?t.label:"Select"),1),(i(!0),d(P,null,W(l.options,(g,u)=>(i(),d("option",{selected:t.modelValue==n(g),value:n(g),key:u},m(e(g)),9,ot))),128))],32),s("span",lt,[a(v)])])])}}},nt=["Mr","Mrs","Miss","Ms","Dr"],it=[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],dt={title:nt,months:it},_t={class:"smodal"},ut={class:"smodal__body"},mt={class:"swizard"},ct={class:"sprogress-bar"},pt={key:0,class:"swizard__step swizard_page1"},ft=s("div",{class:"swizard__title"},[s("p",{class:"swizard__title__p"}," Please provide us with the TOTAL amount you received for your PPI refunds in the relevant tax years below: ")],-1),bt={class:"swizard__years",style:{position:"relative","z-index":"2"}},gt={class:"swizard__input__item__right-icon ni-number"},yt={class:"tooltip"},vt={class:"top"},ht=s("i",null,null,-1),wt={class:"swizard__sign__checkbox"},xt=["disabled"],Vt=s("label",{for:"cant_remember"},"Can't remember (Provide it later) ",-1),It={key:0,class:"swizard__submit"},St={key:1,class:"swizard__step swizard_page2"},kt={class:"swizard__about"},zt=s("p",{style:{"margin-bottom":"5px","margin-top":"20px","font-weight":"bold"}},"DOB",-1),Bt={class:"swizard__about"},Ct={class:"swizard__submit"},Nt={key:2,class:"swizard__step swizard_page3"},Mt={class:"swizard__sign__checkbox",style:{"margin-top":"10px !important"}},Pt=s("label",{for:"agreed"},[s("small",null,"I agree for Reclaim My PPI Tax to contact me with regards to any tax rebate purposes.")],-1),At={class:"swizard__submit"},Tt={key:3,class:"swizard__step swizard_page4"},Ut={class:"swizard__input"},qt=s("p",null,"Please draw your signature below in the green box.",-1),Et={class:"swizard__input__item"},Ot={class:"swizard__submit"};function Rt(l,t,n,e,_,b){const v=f("ModalMarkup"),g=f("vue-final-modal"),u=f("HasError"),k=f("IconInfo"),h=f("NextButton"),I=f("BackButton"),z=f("VueSignaturePad");return i(),d("div",_t,[a(g,{classes:"smodal__container","content-class":"smodal__content",modelValue:e.state.showAssesmentModal,"onUpdate:modelValue":t[0]||(t[0]=o=>e.state.showAssesmentModal=o)},{default:S(({close:o})=>[a(v,{title:"Warning!!!",text:e.state.self_assesment_message,onClose:o},null,8,["text","onClose"])]),_:1},8,["modelValue"]),s("div",ut,[s("div",mt,[s("div",ct,[(i(!0),d(P,null,W(e.state.steps,(o,x)=>(i(),T(e.ProgressStep,{class:C({"is-last":e.state.steps.length==x+1,"is-first":x==0}),key:x,title:o.title,number:o.number,step:x+1,current:e.state.step},null,8,["class","title","number","step","current"]))),128))]),e.state.step==1?(i(),d("div",pt,[a(e.StepTitle,{title:"Please enter your PPI Claim details"}),a(e.RadioQuestion,{style:{position:"relative","z-index":"1"},question:"Were you required to complete a Self-Assessment the year you got your PPI refund?",field:"self_assesment",errors:e.state.errors},{default:S(()=>[a(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].self_assesment,"onUpdate:modelValue":[t[1]||(t[1]=o=>e.state.form[0].self_assesment=o),e.selfAssesedClick],value:!0,label:"Yes"},null,8,["modelValue"]),a(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].self_assesment,"onUpdate:modelValue":t[2]||(t[2]=o=>e.state.form[0].self_assesment=o),value:!1,label:"No"},null,8,["modelValue"])]),_:1},8,["errors"]),ft,s("div",bt,[a(e.AmountBox,{modelValue:e.state.form[0].year_1,"onUpdate:modelValue":t[3]||(t[3]=o=>e.state.form[0].year_1=o),label:"Apr 2019 - Mar 2020",tooltip:e.state.years_message},null,8,["modelValue","tooltip"]),a(e.AmountBox,{modelValue:e.state.form[0].year_2,"onUpdate:modelValue":t[4]||(t[4]=o=>e.state.form[0].year_2=o),label:"Apr 2020 - Mar 2021",tooltip:e.state.years_message},null,8,["modelValue","tooltip"]),a(e.AmountBox,{modelValue:e.state.form[0].year_3,"onUpdate:modelValue":t[5]||(t[5]=o=>e.state.form[0].year_3=o),label:"Apr 2021 - Mar 2022",tooltip:e.state.years_message},null,8,["modelValue","tooltip"]),a(e.AmountBox,{modelValue:e.state.form[0].year_4,"onUpdate:modelValue":t[6]||(t[6]=o=>e.state.form[0].year_4=o),label:"Apr 2022 - Mar 2023",tooltip:e.state.years_message},null,8,["modelValue","tooltip"]),a(u,{field:"year",errors:e.state.errors,message:"Please fill at least one record"},null,8,["errors"])]),a(e.RadioQuestion,{style:{position:"relative","z-index":"1"},question:"Were you earning less than \xA350,000 a year at the time you received your PPI refund?",field:"less_earning",errors:e.state.errors},{default:S(()=>[a(e.RadioBox,{name:"less_earning",modelValue:e.state.form[0].less_earning,"onUpdate:modelValue":t[7]||(t[7]=o=>e.state.form[0].less_earning=o),value:!0,label:"Yes"},null,8,["modelValue"]),a(e.RadioBox,{name:"less_earning",modelValue:e.state.form[0].less_earning,"onUpdate:modelValue":t[8]||(t[8]=o=>e.state.form[0].less_earning=o),value:!1,label:"No"},null,8,["modelValue"])]),_:1},8,["errors"]),a(e.InputText,{style:{position:"relative","z-index":"2"},label:"National insurance (NI) Number",modelValue:e.state.form[0].ni_number,"onUpdate:modelValue":t[9]||(t[9]=o=>e.state.form[0].ni_number=o)},{default:S(()=>[s("span",gt,[s("div",yt,[a(k),s("div",vt,[s("p",null,m(e.state.ni_message),1),ht])])])]),_:1},8,["modelValue"]),a(u,{field:"invalid_ni",errors:e.state.errors,message:"Invalid NI Number"},null,8,["errors"]),a(u,{field:"ni_number",errors:e.state.errors},null,8,["errors"]),s("div",wt,[U(s("input",{id:"cant_remember",disabled:e.niCheckDisabled,type:"checkbox",value:!0,"onUpdate:modelValue":t[10]||(t[10]=o=>e.state.form[0].cant_remember=o)},null,8,xt),[[q,e.state.form[0].cant_remember]]),Vt]),e.state.form[0].self_assesment?(i(),T(u,{key:1,style:{"text-align":"center"},field:"already_assessed",errors:["already_assessed"],message:e.state.self_assesment_message},null,8,["message"])):(i(),d("div",It,[a(h,{text:"Continue",onClick:e.stepForward})]))])):w("",!0),e.state.step==2?(i(),d("div",St,[a(e.StepTitle,{title:"Please complete your details below to start your claim"}),s("div",kt,[a(e.InputSelect,{class:"swizard__about__item",label:"Title",options:e.options.title,modelValue:e.state.form[1].title,"onUpdate:modelValue":t[11]||(t[11]=o=>e.state.form[1].title=o)},null,8,["options","modelValue"]),a(e.InputText,{class:"swizard__about__item",label:"First Name",modelValue:e.state.form[1].first_name,"onUpdate:modelValue":t[12]||(t[12]=o=>e.state.form[1].first_name=o)},null,8,["modelValue"]),a(e.InputText,{class:"swizard__about__item",label:"Last Name",modelValue:e.state.form[1].last_name,"onUpdate:modelValue":t[13]||(t[13]=o=>e.state.form[1].last_name=o)},null,8,["modelValue"])]),a(u,{field:"name",errors:e.state.errors,message:"The above fields are required"},null,8,["errors"]),zt,s("div",Bt,[a(e.InputSelect,{class:"swizard__about__item",label:"Day","in-select":"",options:e.range(1,1,31),modelValue:e.state.form[1].day,"onUpdate:modelValue":t[14]||(t[14]=o=>e.state.form[1].day=o)},null,8,["options","modelValue"]),a(e.InputSelect,{class:"swizard__about__item",label:"Month","in-select":"",options:e.options.months,modelValue:e.state.form[1].month,"onUpdate:modelValue":t[15]||(t[15]=o=>e.state.form[1].month=o)},null,8,["options","modelValue"]),a(e.InputSelect,{class:"swizard__about__item",label:"Year","in-select":"",options:e.range(new Date().getFullYear()-100,1,new Date().getFullYear()).reverse(),modelValue:e.state.form[1].year,"onUpdate:modelValue":t[16]||(t[16]=o=>e.state.form[1].year=o)},null,8,["options","modelValue"])]),a(u,{field:"dob",errors:e.state.errors,message:"The above fields are required"},null,8,["errors"]),s("div",Ct,[a(h,{text:"Continue",onClick:e.stepForward}),a(I,{text:"Back",onClick:e.stepBack})])])):w("",!0),e.state.step==3?(i(),d("div",Nt,[a(e.StepTitle,{title:"Enter your contact details to claim your tax back"}),a(e.InputText,{type:"email",label:"Email",modelValue:e.state.form[2].email,"onUpdate:modelValue":t[17]||(t[17]=o=>e.state.form[2].email=o)},null,8,["modelValue"]),a(u,{field:"email",errors:e.state.errors},null,8,["errors"]),a(u,{field:"invalid_email",errors:e.state.errors,message:"Invalid Email"},null,8,["errors"]),a(e.InputText,{type:"tel",label:"Phone Number",modelValue:e.state.form[2].phone,"onUpdate:modelValue":t[18]||(t[18]=o=>e.state.form[2].phone=o)},null,8,["modelValue"]),a(u,{field:"phone",errors:e.state.errors},null,8,["errors"]),a(u,{field:"invalid_phone",errors:e.state.errors,message:"Invalid Phone Number"},null,8,["errors"]),a(e.InputText,{label:"Address",modelValue:e.state.form[2].address,"onUpdate:modelValue":t[19]||(t[19]=o=>e.state.form[2].address=o)},null,8,["modelValue"]),a(u,{field:"address",errors:e.state.errors},null,8,["errors"]),a(e.InputText,{label:"Postcode",modelValue:e.state.form[2].postcode,"onUpdate:modelValue":t[20]||(t[20]=o=>e.state.form[2].postcode=o)},null,8,["modelValue"]),a(u,{field:"postcode",errors:e.state.errors},null,8,["errors"]),s("div",Mt,[U(s("input",{id:"agreed",type:"checkbox",value:1,"onUpdate:modelValue":t[21]||(t[21]=o=>e.state.form[2].agree=o)},null,512),[[q,e.state.form[2].agree]]),Pt]),a(u,{field:"agree",errors:e.state.errors},null,8,["errors"]),s("div",At,[a(h,{text:"Continue",onClick:e.stepForward}),a(I,{text:"Back",onClick:e.stepBack})])])):w("",!0),e.state.step==4?(i(),d("div",Tt,[a(e.GreatNews),a(e.InputText,{label:"Do you have a referral code? (optional)",modelValue:e.state.form[3].referal_code,"onUpdate:modelValue":t[22]||(t[22]=o=>e.state.form[3].referal_code=o)},null,8,["modelValue"]),s("div",Ut,[qt,s("div",Et,[a(z,{width:"100%",height:"200px",style:{border:"1px solid green","background-color":"white"},ref:"signaturePad"},null,512),a(u,{field:"signature",errors:e.state.errors,message:"Signature required"},null,8,["errors"])])]),s("small",{class:"clear-signature",onClick:e.clearSignature},"Clear Signature"),s("div",Ot,[a(h,{disabled:e.state.loading,"no-icon":"",text:e.state.loading?"Please Wait ---":"Start Your Claim",onClickOnce:e.submit},null,8,["disabled","text"]),a(I,{text:"Back",onClick:e.stepBack})])])):w("",!0)])])])}const Dt={__name:"App",setup(l,{expose:t}){t();const{filterEmptyKeys:n,hasSome:e,hasEvery:_,arrayIntersection:b,range:v}=D(),g=E(null);O(()=>{});const u=N(()=>{var y;return r.form[0].cant_remember=!1,(y=r.form[0].ni_number)==null?void 0:y.length});function k(){setTimeout(()=>{r.showAssesmentModal=!0},0)}function h(){const y=Object.values(r.required[r.step-1]),c=r.form[r.step-1];y.includes("ni_number")&&c.cant_remember&&y.splice(y.indexOf("ni_number"),1);const V=n(c);let p=b(V,y);if(r.step==1){_(Object.values(r.year),V)&&p.push("year"),c.self_assesment&&p.push("already_assessed");var G=new RegExp("^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$");![null,""].includes(c.ni_number)&&!G.test(c.ni_number)&&p.push("invalid_ni")}if(r.step==2&&(e(Object.values(r.name),V)&&p.push("name"),e(Object.values(r.dob),V)&&p.push("dob")),r.step==3){var Z=/\S+@\S+\.\S+/;c.email!=null&&!Z.test(c.email)&&p.push("invalid_email"),c.phone!=null&&(c.phone.length!=11||c.phone.charAt(0)!="0")&&p.push("invalid_phone"),!c.agree&&!p.includes("agree")&&p.push("agree")}return r.errors=[...p],!r.errors.length}function I(){h()&&r.step>=1&&r.step<=4&&(r.step++,o())}function z(){r.step>1&&r.step<=4&&(r.step--,o())}function o(){document.getElementById("app").scrollIntoView()}function x(){g.value.clearSignature()}async function J(){const{isEmpty:y,data:c}=g.value.saveSignature();if(y){r.errors.push("signature");return}r.loading=!0,r.form[3].signature=c;const V={externalID:window.location.href,...r.form[0],...r.form[1],...r.form[2],...r.form[3]},p=await R.post(r.url,V);window.location.href="/thank-you?reference="+p.data.claimID+"&process=completed"}const A={filterEmptyKeys:n,hasSome:e,hasEvery:_,arrayIntersection:b,range:v,signaturePad:g,niCheckDisabled:u,selfAssesedClick:k,validate:h,stepForward:I,stepBack:z,scrollUp:o,clearSignature:x,submit:J,computed:N,onMounted:O,ref:E,axios:R,state:r,Reusable:D,ProgressStep:Se,StepTitle:Ce,GreatNews:Ae,RadioBox:Ee,RadioQuestion:De,AmountBox:Ge,InputText:$e,InputSelect:rt,options:dt};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}},Ft=M(Dt,[["render",Rt]]);$(Ft).use(ee).component("IconInfo",te).component("IconNext",se).component("IconPrevious",ae).component("IconSelect",oe).component("HasError",de).component("NextButton",me).component("BackButton",fe).component("VueFinalModal",le).component("ModalMarkup",Ve).mount("#app");
