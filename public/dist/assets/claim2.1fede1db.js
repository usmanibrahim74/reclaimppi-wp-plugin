import{_ as k,o as l,c as i,a as v,b as S,t as u,d as h,r as b,e as t,F as y,f as j,n as M,g as q,u as W,h as $,i as w,j as E,k as O,l as G,p as I,q as L,s as A,R as B,x as J,y as Z,I as K,z as U,A as X,B as ee,E as te}from"./reuseable.59928ad4.js";const se={name:"HasError",props:{errors:{type:Object,required:!0},field:{type:String,required:!0},message:{type:String,default:null}},computed:{getMessage(){return this.message?this.message:"The above field is required."}}},ne=["innerHTML"];function ae(e,s,a,r,o,_){return a.errors.includes(a.field)?(l(),i("div",{key:0,class:"swizard__error",innerHTML:_.getMessage},null,8,ne)):v("",!0)}const re=k(se,[["render",ae]]),oe={type:"button",class:"sbutton sbutton__primary sbutton--active"},le={key:0,class:"sbutton__primary__icon"},ie={__name:"NextButton",props:{text:{type:String,default:"Next"},noIcon:{type:Boolean,default:!1}},setup(e){return(s,a)=>{const r=b("IconNext");return l(),i("button",oe,[S(u(e.text)+" ",1),e.noIcon?v("",!0):(l(),i("span",le,[h(r)]))])}}},ue={type:"button",class:"sbutton sbutton__back"},ce={class:"sbutton__primary__back"},de={__name:"BackButton",props:{text:{type:String,default:"Next"}},setup(e){return(s,a)=>{const r=b("IconPrevious");return l(),i("button",ue,[t("span",ce,[h(r)]),S(u(e.text),1)])}}},_e={class:"smodal__header"},pe={class:"smodal__title"},me=t("span",null,"\xD7",-1),fe=[me],ge={class:"smodal__body"},he={class:"smodal__body__p"},be={class:"smodal__footer"},ve={__name:"ModalMarkup",props:{title:{type:String,default:"Title"},text:{type:String,default:"Text"},buttonTitle:{type:String,default:"Close"}},setup(e){const s=e;return(a,r)=>(l(),i(y,null,[t("div",_e,[t("p",pe,u(s.title),1),t("button",{type:"button",class:"smodal__close",onClick:r[0]||(r[0]=o=>a.$emit("close"))},fe)]),t("div",ge,[t("p",he,u(s.text),1)]),t("div",be,[t("button",{onClick:r[1]||(r[1]=o=>a.$emit("close")),class:"smodal__footer__btn"},"close")])],64))}},N={year_1:null,year_2:null,year_3:null,year_4:null},P={title:null,first_name:null,last_name:null},V={day:null,month:null,year:null},n=j({url:"/index.php/ReclaimPPI/lead",step:1,showAssesmentModal:!1,showYearsInfoModal:!1,showNIModal:!1,loading:!1,self_assesment_message:"Unfortunately we can\u2019t proceed with your claim and you will have to contact your accountant to do this for you.",ni_message:"NI Number is required to identify your tax information with HMRC. Example JJ123456C",years_message:"A rough estimate of amount you've received in pounds (\xA3)",errors:[],year:Object.keys(N),name:Object.keys(P),dob:Object.keys(V),steps:[{title:"PPI Claim Details",number:1},{title:"About You",number:2},{title:"Contact Details",number:3},{title:"Start Claim",number:4}],required:[["self_assesment","year","less_earning","ni_number"],["name","dob"],["email","phone","address","postcode","agree","signature"]],form:[{self_assesment:null,...N,less_earning:null,ni_number:null,cant_remember:null},{...P,...V},{email:null,phone:null,address:null,postcode:null,agree:null},{referal_code:null,signature:null}]}),ye={class:"w-full relative"},xe={class:"absolute left-1/2 -top-10 -translate-x-1/2 text-center text-green-400"},we={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-check",width:"18",height:"18",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#FFFFFF",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},$e=t("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),ke=t("path",{d:"M5 12l5 5l10 -10"},null,-1),Se=[$e,ke],Ce={__name:"ProgressStep",props:{title:{type:String,default:"Step"},isLast:{type:Boolean,default:!1},step:{type:Number,required:!0},number:{type:Number,required:!0},current:{type:Number,required:!0}},setup(e){const s=e;return(a,r)=>(l(),i("div",ye,[t("div",xe,[t("strong",null,u(s.title),1)]),t("div",{class:M(["border-2 bg-white relative z-10 rounded-full h-10 w-10 mx-auto flex items-center justify-center",[e.current>e.step?"bg-green-400 border-green-400":"",e.current==e.step?"border-green-400 text-green-400":"text-gray-300"]])},[e.step>=e.current?(l(),i(y,{key:0},[S(u(s.number),1)],64)):(l(),i("svg",we,Se))],2),e.isLast?v("",!0):(l(),i("div",{key:0,class:M(["w-full left-1/2 absolute top-1/2 -translate-y-1/2 right-0 h-1",[e.current>e.step?"bg-green-400":"bg-gray-300"]])},null,2))]))}},ze={class:"swizard__title"},Me={class:"swizard__title__p text-center step-title"},Ie=t("hr",{class:"swizard__title__line"},null,-1),Le={__name:"StepTitle",props:{title:{type:String,required:!0}},setup(e){const s=e;return(a,r)=>(l(),i("div",ze,[t("p",Me,u(s.title),1),Ie]))}},Ae={},Be=q('<div class="swizard__claim swizard__title"><h3>Great News!</h3><p class="swizard__claim__congrat"><span class="swizard__claim__success">Congratulations, </span> You 100% meet the criteria </p><p class="swizard__claim__time"> Our customers get money back in 6 Weeks! </p><hr class="swizard__title__line"></div><div class="swizard__claim__message"><p> Signing below agrees you into our <a target="__blank" href="/terms-conditions" class="swizard__claim__message__terms">terms and conditions</a> and our NO WIN NO FEE services. </p></div>',2);function Ne(e,s){return Be}const Pe=k(Ae,[["render",Ne]]),Ve={class:"swizard__radio__items__item"},je=["id","name","value","checked"],qe=["for"],Ee={__name:"RadioBox",props:{modelValue:{type:Boolean,default:!1},value:{type:Boolean,default:!1},name:String,label:{type:String,default:"label"}},setup(e){const s=e;let a=j({uuid:W.v4()});const r=$(()=>s.modelValue==s.value);return(o,_)=>(l(),i("div",Ve,[t("input",{id:w(a).uuid,type:"radio",name:s.name,value:s.value,checked:w(r),onChange:_[0]||(_[0]=m=>o.$emit("update:modelValue",m.target.value=="true"))},null,40,je),t("label",{for:w(a).uuid},[t("span",null,u(s.label),1)],8,qe)]))}},Oe={class:"swizard__radio"},Te={class:"swizard__radio__items"},Fe={__name:"RadioQuestion",props:{question:{type:String,default:"Question"},field:{type:String,default:"field_1"},errors:{type:Array,default:()=>[]},errorMessage:{type:String,default:null}},setup(e){const s=e;return(a,r)=>{const o=b("HasError");return l(),i("div",Oe,[t("p",null,u(s.question),1),t("div",Te,[E(a.$slots,"default")]),h(o,{field:s.field,errors:s.errors,message:s.errorMessage},null,8,["field","errors","message"])])}}},He={class:"swizard__years__items"},Re={class:"swizard__years__items__item"},De=t("span",{class:"swizard__years__items__item__left-icon"},"\xA3",-1),Qe=["value"],Ye={__name:"AmountBox",props:{label:{type:String,default:"Question"},modelValue:String},setup(e){return(s,a)=>{const r=b("IconInfo");return l(),i("div",He,[t("p",null,u(e.label),1),t("div",Re,[De,t("input",{type:"number",value:e.modelValue,onInput:a[0]||(a[0]=o=>s.$emit("update:modelValue",o.target.value)),class:"swizard__years__items__item__box hide-arrows"},null,40,Qe),t("span",{class:"swizard__years__items__item__right-icon",onClick:a[1]||(a[1]=o=>s.$emit("icon:click"))},[h(r)])])])}}},We={class:"swizard__input"},Ge={class:"swizard__input__item"},Je=["type","value"],Ze={__name:"InputText",props:{label:{type:String,default:"Question"},type:String,modelValue:String},setup(e){return(s,a)=>(l(),i("div",We,[t("p",null,u(e.label),1),t("div",Ge,[t("input",{type:e.type,value:e.modelValue,onInput:a[0]||(a[0]=r=>s.$emit("update:modelValue",r.target.value)),class:"swizard__input__item__box"},null,40,Je),E(s.$slots,"default")])]))}},Ke={class:"swizard__input"},Ue={key:0},Xe={class:"swizard__input__item"},et={value:null},tt=["selected","value"],st={class:"swizard__input__item__right-icon"},nt={__name:"InputSelect",props:{label:String,options:{type:Array,required:!0},modelValue:String,inSelect:{type:Boolean,default:!1}},setup(e){const s=e;function a(o){return o.value||o}function r(o){return o.label||o}return(o,_)=>{const m=b("IconSelect");return l(),i("div",Ke,[e.inSelect?v("",!0):(l(),i("p",Ue,u(e.label),1)),t("div",Xe,[t("select",{onChange:_[0]||(_[0]=c=>o.$emit("update:modelValue",c.target.value)),class:"swizard__input__item__box select"},[t("option",et,u(s.inSelect?s.label:"Select"),1),(l(!0),i(y,null,O(e.options,(c,x)=>(l(),i("option",{selected:s.modelValue==a(c),value:a(c),key:x},u(r(c)),9,tt))),128))],32),t("span",st,[h(m)])])])}}},at=["Mr.","Mrs.","Miss","Ms","Dr"],rt={title:at},ot={class:"relative w-[100vw] left-1/2 -translate-x-1/2"},lt={class:"max-w-[700px] mx-auto"},it={class:"p-3 mx-auto"},ut={class:"flex items-center"},ct=q('<div class="mt-20 p-5 bg-orange-50 py-5 px-7 box-border"><div class="my-4 text-center"><p class="text-2xl font-bold"> Please enter your PPI Claim details </p></div><div><hr class="border border-slate-200"></div><div class="my-6"><div class="mb-6"><p class="text-lg font-bold"> Were you required to complete a Self-Assessment the year you got your PPI refund? </p></div><div class="flex flex-wrap"><div class="flex items-center mr-12"><input id="green-radio" type="radio" value="" name="colored-radio" class="mr-1 w-5 h-5 text-green-600 bg-gray-100 border-gray-300 focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for="green-radio" class="ml-2 text-md font-medium text-gray-900 dark:text-gray-300 checked:text-green-600">Yes</label></div><div class="flex items-center mr-4"><input id="red-radio" type="radio" value="" name="colored-radio" class="mr-1 w-5 h-5 text-red-600 bg-gray-100 border-gray-300 focus:ring-red-500 dark:focus:ring-red-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"><label for="red-radio" class="ml-2 text-md font-medium text-gray-900 dark:text-gray-300">No</label></div></div></div><div class="mb-5"><p class="text-lg font-bold"> Please provide us with the TOTAL amount you received for your PPI refunds in the relevant tax years below </p></div><div class="flex flex-wrap justify-between"><div class="basis-[48%]"><p class="mt-3 mb-1">Apr 2018 - Mar 2019</p><div class="relative"><span class="absolute left-3 h-full flex items-center justify-center py-1 pr-3 pl-1 border-r w-10">\xA3</span><input class="border-slate-300 py-3 px-6 rounded" type="number"><span class="absolute right-2 top-3"><svg fill="#616A7A" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"> \\ <path d="M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003 6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 7 L 11 9 L 13 9 L 13 7 L 11 7 z M 11 11 L 11 17 L 13 17 L 13 11 L 11 11 z"></path></svg></span></div></div><div class="basis-[48%]"><p class="mt-3 mb-1">Apr 2018 - Mar 2019</p><div class="relative"><span class="absolute left-3 h-full flex items-center justify-center py-1 pr-3 pl-1 border-r w-10">\xA3</span><input class="border-slate-300 py-3 px-6 rounded" type="number"><span class="absolute right-2 top-3"><svg fill="#616A7A" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"> \\ <path d="M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003 6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 7 L 11 9 L 13 9 L 13 7 L 11 7 z M 11 11 L 11 17 L 13 17 L 13 11 L 11 11 z"></path></svg></span></div></div><div class="basis-[48%]"><p class="mt-3 mb-1">Apr 2018 - Mar 2019</p><div class="relative"><span class="absolute left-3 h-full flex items-center justify-center py-1 pr-3 pl-1 border-r w-10">\xA3</span><input class="border-slate-300 py-3 px-6 rounded" type="number"><span class="absolute right-2 top-3"><svg fill="#616A7A" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"> \\ <path d="M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003 6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 7 L 11 9 L 13 9 L 13 7 L 11 7 z M 11 11 L 11 17 L 13 17 L 13 11 L 11 11 z"></path></svg></span></div></div><div class="basis-[48%]"><p class="mt-3 mb-1">Apr 2018 - Mar 2019</p><div class="relative"><span class="absolute left-3 h-full flex items-center justify-center py-1 pr-3 pl-1 border-r w-10">\xA3</span><input class="border-slate-300 py-3 px-6 rounded" type="number"><span class="absolute right-2 top-3"><svg fill="#616A7A" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24px" height="24px"> \\ <path d="M 12 2 C 6.4889971 2 2 6.4889971 2 12 C 2 17.511003 6.4889971 22 12 22 C 17.511003 22 22 17.511003 22 12 C 22 6.4889971 17.511003 2 12 2 z M 12 4 C 16.430123 4 20 7.5698774 20 12 C 20 16.430123 16.430123 20 12 20 C 7.5698774 20 4 16.430123 4 12 C 4 7.5698774 7.5698774 4 12 4 z M 11 7 L 11 9 L 13 9 L 13 7 L 11 7 z M 11 11 L 11 17 L 13 17 L 13 11 L 11 11 z"></path></svg></span></div></div></div></div>',1);function dt(e,s,a,r,o,_){return l(),i("div",ot,[t("div",lt,[t("div",it,[t("div",ut,[(l(!0),i(y,null,O(r.state.steps,(m,c)=>(l(),G(r.ProgressStep,{"is-last":r.state.steps.length==c+1,key:c,title:m.title,number:m.number,step:c+1,current:r.state.step},null,8,["is-last","title","number","step","current"]))),128))]),ct])])])}const _t={__name:"App",setup(e,{expose:s}){s();const{filterEmptyKeys:a,hasSome:r,hasEvery:o,arrayIntersection:_,range:m}=B(),c=I(null);L(()=>{});const x=$(()=>{var p;return n.form[0].cant_remember=!1,(p=n.form[0].ni_number)==null?void 0:p.length});function T(){setTimeout(()=>{console.log(n.form[0]),n.showAssesmentModal=!0},0)}function C(){const p=Object.values(n.required[n.step-1]),d=n.form[n.step-1];p.includes("ni_number")&&d.cant_remember&&p.splice(p.indexOf("ni_number"),1);const g=a(d);let f=_(g,p);if(n.step==1){o(Object.values(n.year),g)&&f.push("year"),d.self_assesment&&f.push("already_assessed");var Q=new RegExp("^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$");![null,""].includes(d.ni_number)&&!Q.test(d.ni_number)&&f.push("invalid_ni")}if(n.step==2&&(r(Object.values(n.name),g)&&f.push("name"),r(Object.values(n.dob),g)&&f.push("dob")),n.step==3){var Y=/\S+@\S+\.\S+/;d.email!=null&&!Y.test(d.email)&&f.push("invalid_email"),d.phone!=null&&(d.phone.length!=11||d.phone.charAt(0)!="0")&&f.push("invalid_phone")}return n.errors=[...f],!n.errors.length}function F(){C()&&n.step>=1&&n.step<=4&&n.step++}function H(){console.log("back"),n.step>1&&n.step<=4&&n.step--}function R(){c.value.clearSignature()}async function D(){const{isEmpty:p,data:d}=c.value.saveSignature();if(p){n.errors.push("signature");return}n.loading=!0,n.form[3].signature=d;const g={...n.form[0],...n.form[1],...n.form[2],...n.form[3]};await A.post(n.url,g),n.loading=!1,window.location.href="/thank-you"}const z={filterEmptyKeys:a,hasSome:r,hasEvery:o,arrayIntersection:_,range:m,signaturePad:c,niCheckDisabled:x,selfAssesedClick:T,validate:C,stepForward:F,stepBack:H,clearSignature:R,submit:D,computed:$,onMounted:L,ref:I,axios:A,state:n,Reusable:B,ProgressStep:Ce,StepTitle:Le,GreatNews:Pe,RadioBox:Ee,RadioQuestion:Fe,AmountBox:Ye,InputText:Ze,InputSelect:nt,options:rt};return Object.defineProperty(z,"__isScriptSetup",{enumerable:!1,value:!0}),z}},pt=k(_t,[["render",dt]]);J(pt).use(Z).component("IconInfo",K).component("IconNext",U).component("IconPrevious",X).component("IconSelect",ee).component("HasError",re).component("NextButton",ie).component("BackButton",de).component("VueFinalModal",te).component("ModalMarkup",ve).mount("#app");
