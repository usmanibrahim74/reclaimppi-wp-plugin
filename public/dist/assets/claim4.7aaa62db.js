import{r as N,k as q,a,o as x,c as h,b as t,w as $,A as e,d as r,F as I,e as A,f as F,t as R,h as P,R as S,i as O,_ as Y,j as J,l as M,m as K,p as L,I as W,q as G,s as Z,u as Q,E as X}from"./reuseable.a5966b59.js";import{_ as ee,G as te,a as oe,H as se,b as le,c as re,d as ne,e as ae,f as ie,g as ue,h as de,i as me,j as ce}from"./ProgressStep.634caa9e.js";const pe=["Mr","Mrs","Miss","Ms","Dr"],_e=[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],D={year_1:null,year_2:null,year_3:null,year_4:null},H={title:null,first_name:null,last_name:null},T={day:null,month:null,year:null},E={self_assessment:"Unfortunately we can\u2019t proceed with your claim and you will have to contact your accountant to do this for you.",ni:"NI Number is required to identify your tax information with HMRC. Example JJ123456C",years:"A rough estimate of amount you've received in pounds (\xA3)"},w=N({url:"/ReclaimPPI/lead",step:1,loading:!1,steps:[{title:"Criteria",number:1},{title:"PPI Claim Details",number:2},{title:"About You",number:3},{title:"Contact Details",number:4},{title:"Start Claim",number:5}],form:[{self_assessment:null},{...D,less_earning:null,ni_number:null,cant_remember:null},{...H,...T},{email:null,phone:null,address:null,postcode:null,agree:null},{referral_code:null,signature:null}]}),fe={class:"mt-6 mb-4"},be={__name:"criteria",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(k,{emit:i}){const b=k;let o=N({required:["self_assessment"],errors:[],showAssessmentModal:!1});const y=q({get(){return b.modelValue},set(l){i("update:modelValue",l)}});function p(){y.self_assessment=!1,u()}function n(){y.self_assessment=!0,o.showAssessmentModal=!0}function u(){i("forward")}return(l,d)=>{const _=a("ModalMarkup"),f=a("vue-final-modal"),s=a("step-title"),m=a("question");return x(),h(I,null,[t(f,{classes:"flex justify-center items-center","content-class":"relative flex flex-col w-[500px] max-h-full mx-4 border dark:border-gray-800 rounded bg-white dark:bg-gray-900",modelValue:e(o).showAssessmentModal,"onUpdate:modelValue":d[0]||(d[0]=c=>e(o).showAssessmentModal=c)},{default:$(({close:c})=>[t(_,{title:"Warning!!!",text:e(E).self_assessment,onClose:c},null,8,["text","onClose"])]),_:1},8,["modelValue"]),t(s,{title:"Is the below statement true?"}),r("div",fe,[t(m,{labelFor:"",class:"text-center",text:"I was Not self employed the year I received my PPI refund"}),r("div",{class:"flex gap-5 justify-center mt-6"},[r("button",{type:"button",class:"border-red-600 border-solid border-2 font-medium text-red-600 flex items-center justify-center py-3 px-10 sm:py-4 sm:px-20 rounded",onClick:n}," Yes "),r("button",{onClick:p,type:"button",class:"bg-red-600 border-solid border-red-600 border-2 font-medium text-white flex items-center justify-center py-3 px-10 sm:py-4 sm:px-20 rounded"}," No ")])])],64)}}},xe={class:"mt-6 mb-4"},ye={class:"grid sm:grid-cols-2 sm:justify-items-center gap-x-6"},ge={class:"flex justify-start w-full mt-4"},ve={class:"mt-6 mb-4"},Ve={class:"flex my-2"},we={class:"mt-6 mb-2"},he={class:"absolute right-2 top-11 cursor-pointer group duration-300"},ke={class:"absolute hidden group-hover:flex -left-[145px] sm:-left-[285px] -top-4 -translate-y-full sm:w-80 w-44 px-2 py-1 bg-gray-700 rounded-lg text-white text-sm after:content-[''] after:absolute after:right-[2%] after:top-[100%] after:-translate-x-1/2 after:border-8 after:border-x-transparent after:border-b-transparent after:border-t-gray-700"},Be={class:"mt-2"},Ie={class:"flex items-center mt-2 mb-6"},Ce={class:"flex items-center justify-center"},Pe={__name:"claim",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(k,{emit:i}){const b=k,{filterEmptyKeys:o,hasEvery:y,arrayIntersection:p,range:n}=S();let u=N({showAssessmentModal:!1,required:["years","less_earning","ni_number"],errors:[]});const l=q({get(){return b.modelValue},set(f){i("update:modelValue",f)}});function d(){const f=b.modelValue;let s=Object.values(u.required);s.includes("ni_number")&&f.cant_remember&&s.splice(s.indexOf("ni_number"),1);const m=o(f);let c=p(m,s);y(Object.keys(D),m)&&c.push("years");var g=new RegExp("^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$");return![null,""].includes(f.ni_number)&&!g.test(f.ni_number)&&c.push("invalid_ni"),u.errors=[...c],!u.errors.length}function _(){d()&&i("forward")}return(f,s)=>{const m=a("step-title"),c=a("question"),g=a("HasError"),C=a("radio-box"),v=a("IconInfo"),U=a("input-text"),j=a("sign-checkbox"),V=a("NextButton");return x(),h(I,null,[t(m,{title:"Please enter your PPI Claim details"}),e(l)?(x(),h(I,{key:0},[r("div",xe,[t(c,{text:`Please provide us with the TOTAL amount you
                received for your PPI refunds in the relevant tax
                years below:`}),r("div",ye,[(x(!0),h(I,null,A(e(n)(1,1,4),B=>(x(),F(ee,{modelValue:e(l)["year_"+B],"onUpdate:modelValue":z=>e(l)["year_"+B]=z,label:`Apr ${2018+B-1} - Mar ${2018+B}`,tooltip:e(E).years},null,8,["modelValue","onUpdate:modelValue","label","tooltip"]))),256)),r("div",ge,[t(g,{field:"years",errors:e(u).errors,message:"Please fill at least one record"},null,8,["errors"])])])]),r("div",ve,[t(c,{text:`Were you earning less than \xA350,000 a year at the
                time you received your PPI refund?`}),r("div",Ve,[t(C,{name:"less_earning",modelValue:e(l).less_earning,"onUpdate:modelValue":s[0]||(s[0]=B=>e(l).less_earning=B),value:!0,label:"Yes"},null,8,["modelValue"]),t(C,{name:"less_earning",modelValue:e(l).less_earning,"onUpdate:modelValue":s[1]||(s[1]=B=>e(l).less_earning=B),value:!1,label:"No"},null,8,["modelValue"])]),t(g,{field:"less_earning",errors:e(u).errors},null,8,["errors"])]),r("div",we,[t(U,{label:"National Insurance (NI) Number",modelValue:e(l).ni_number,"onUpdate:modelValue":s[2]||(s[2]=B=>e(l).ni_number=B)},{default:$(()=>[r("span",he,[t(v),r("span",ke,R(e(E).ni),1)])]),_:1},8,["modelValue"]),r("div",Be,[t(g,{field:"invalid_ni",errors:e(u).errors,message:"Invalid NI Number"},null,8,["errors"]),t(g,{field:"ni_number",errors:e(u).errors},null,8,["errors"])])]),r("div",Ie,[t(j,{modelValue:e(l).cant_remember,"onUpdate:modelValue":s[3]||(s[3]=B=>e(l).cant_remember=B),value:!0,label:"Can't remember (Provide it later)",disabled:f.niCheckDisabled},null,8,["modelValue","disabled"])]),r("div",Ce,[t(V,{text:"Continue",onClick:_})])],64)):P("",!0)],64)}}},Ne={class:"flex flex-col sm:flex-row mt-6"},qe={class:"basis-1/3 pr-2"},Se={class:"basis-1/3 pr-2 mt-5 sm:mt-0"},Ue={class:"basis-1/3 pr-2 mt-5 sm:mt-0"},je={class:"flex flex-col sm:flex-row"},Ee={class:"flex items-center justify-center flex-col"},Me={__name:"about",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(k,{emit:i}){const b=k,{range:o,hasSome:y,filterEmptyKeys:p,arrayIntersection:n}=S();let u=N({required:["name","dob"],errors:[]});const l=q({get(){return console.log(b),b.modelValue},set(f){i("update:modelValue",f)}});function d(){const f=b.modelValue;let s=Object.values(u.required);const m=p(f);let c=n(m,s);return y(Object.keys(H),m)&&c.push("name"),y(Object.keys(T),m)&&c.push("dob"),u.errors=[...c],!u.errors.length}function _(){d()&&i("forward")}return(f,s)=>{const m=a("step-title"),c=a("input-select"),g=a("input-text"),C=a("HasError"),v=a("question"),U=a("NextButton"),j=a("BackButton");return x(),h(I,null,[t(m,{title:"Please complete your details below to start your claim"}),r("div",Ne,[r("div",qe,[t(c,{class:"",label:"Title",options:e(pe),modelValue:e(l).title,"onUpdate:modelValue":s[0]||(s[0]=V=>e(l).title=V)},null,8,["options","modelValue"])]),r("div",Se,[t(g,{class:"",label:"First Name",modelValue:e(l).first_name,"onUpdate:modelValue":s[1]||(s[1]=V=>e(l).first_name=V)},null,8,["modelValue"])]),r("div",Ue,[t(g,{class:"",label:"Last Name",modelValue:e(l).last_name,"onUpdate:modelValue":s[2]||(s[2]=V=>e(l).last_name=V)},null,8,["modelValue"])])]),t(C,{class:"mt-1",field:"name",errors:e(u).errors,message:"The above fields are required"},null,8,["errors"]),t(v,{class:"mt-6",text:"DOB"}),r("div",je,[t(c,{class:"basis-1/3 pr-2",label:"Day","in-select":"",options:e(o)(1,1,31),modelValue:e(l).day,"onUpdate:modelValue":s[3]||(s[3]=V=>e(l).day=V)},null,8,["options","modelValue"]),t(c,{class:"basis-1/3 pr-2 mt-5 sm:mt-0",label:"Month","in-select":"",options:e(_e),modelValue:e(l).month,"onUpdate:modelValue":s[4]||(s[4]=V=>e(l).month=V)},null,8,["options","modelValue"]),t(c,{class:"basis-1/3 pr-2 mt-5 sm:mt-0",label:"Year","in-select":"",options:e(o)(new Date().getFullYear()-100,1,new Date().getFullYear()).reverse(),modelValue:e(l).year,"onUpdate:modelValue":s[5]||(s[5]=V=>e(l).year=V)},null,8,["options","modelValue"])]),t(C,{class:"mt-1",field:"dob",errors:e(u).errors,message:"The above fields are required"},null,8,["errors"]),r("div",Ee,[t(U,{class:"mt-8 mb-2",text:"Continue",onClick:_}),t(j,{class:"font-bold",text:"Back",onClick:s[6]||(s[6]=V=>f.$emit("backward"))})])],64)}}},$e={class:"mt-6"},Ae={class:"mt-6"},Fe={class:"mt-6"},Oe={class:"mt-6"},De={class:"flex items-center mt-4 text-sm"},He={class:"flex items-center justify-center flex-col mt-7"},Te={__name:"contact",props:{modelValue:{type:Object,required:!0},messages:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(k,{emit:i}){const b=k,{filterEmptyKeys:o,arrayIntersection:y}=S();let p=N({required:["email","phone","address","postcode","agree","signature"],errors:[]});const n=q({get(){return console.log(b),b.modelValue},set(d){i("update:modelValue",d)}});function u(){const d=b.modelValue;let _=Object.values(p.required);const f=o(d);let s=y(f,_);var m=/\S+@\S+\.\S+/;return d.email!=null&&!m.test(d.email)&&s.push("invalid_email"),d.phone!=null&&(d.phone.length!=11||d.phone.charAt(0)!="0")&&s.push("invalid_phone"),!d.agree&&!s.includes("agree")&&s.push("agree"),p.errors=[...s],!p.errors.length}function l(){u()&&i("forward")}return(d,_)=>{const f=a("step-title"),s=a("input-text"),m=a("HasError"),c=a("sign-checkbox"),g=a("NextButton"),C=a("BackButton");return x(),h(I,null,[t(f,{title:"Enter your contact details to claim your tax back"}),r("div",null,[r("div",$e,[t(s,{type:"email",label:"Email",modelValue:e(n).email,"onUpdate:modelValue":_[0]||(_[0]=v=>e(n).email=v)},null,8,["modelValue"]),t(m,{class:"mt-1",field:"email",errors:e(p).errors},null,8,["errors"]),t(m,{class:"mt-1",field:"invalid_email",errors:e(p).errors,message:"Invalid Email"},null,8,["errors"])]),r("div",Ae,[t(s,{type:"tel",label:"Phone Number",modelValue:e(n).phone,"onUpdate:modelValue":_[1]||(_[1]=v=>e(n).phone=v)},null,8,["modelValue"]),t(m,{class:"mt-1",field:"phone",errors:e(p).errors},null,8,["errors"]),t(m,{class:"mt-1",field:"invalid_phone",errors:e(p).errors,message:"Invalid Phone Number"},null,8,["errors"])]),r("div",Fe,[t(s,{label:"Address",modelValue:e(n).address,"onUpdate:modelValue":_[2]||(_[2]=v=>e(n).address=v)},null,8,["modelValue"]),t(m,{class:"mt-1",field:"address",errors:e(p).errors},null,8,["errors"])]),r("div",Oe,[t(s,{label:"Postcode",modelValue:e(n).postcode,"onUpdate:modelValue":_[3]||(_[3]=v=>e(n).postcode=v)},null,8,["modelValue"]),t(m,{class:"mt-1",field:"postcode",errors:e(p).errors},null,8,["errors"])])]),r("div",De,[t(c,{modelValue:e(n).agree,"onUpdate:modelValue":_[4]||(_[4]=v=>e(n).agree=v),value:!0,label:"I agree for Reclaim My PPI Tax to contact me with regards to any tax rebate purposes."},null,8,["modelValue"])]),t(m,{class:"mt-2",field:"agree",errors:e(p).errors},null,8,["errors"]),r("div",He,[t(g,{text:"Continue",onClick:l}),t(C,{text:"Back",onClick:_[5]||(_[5]=v=>d.$emit("backward"))})])],64)}}},ze={class:"mt-6 mb-1"},Re=r("p",{class:"mb-1"}," Please draw your signature below in the green box. ",-1),Ye={class:""},Je={class:"flex items-center justify-center flex-col mt-8"},Ke={__name:"start-claim",props:{modelValue:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["update:modelValue","forward"],setup(k,{emit:i}){const b=k,o=O(null);let y=N({errors:[]});function p(){o.value.clearSignature()}function n(){const{isEmpty:l,data:d}=o.value.saveSignature();if(l){y.errors.push("signature");return}u.signature=d,i("forward")}const u=q({get(){return console.log(b),b.modelValue},set(l){i("update:modelValue",l)}});return(l,d)=>{const _=a("input-text"),f=a("VueSignaturePad"),s=a("HasError"),m=a("NextButton"),c=a("BackButton");return x(),h(I,null,[t(te),t(_,{label:"Do you have a referral code? (optional)",modelValue:e(u).referral_code,"onUpdate:modelValue":d[0]||(d[0]=g=>e(u).referral_code=g)},null,8,["modelValue"]),r("div",ze,[Re,r("div",Ye,[t(f,{class:"w-full bg-white border border-green-500 rounded",ref_key:"signaturePad",ref:o},null,512),t(s,{class:"mt-2",field:"signature",errors:e(y).errors,message:"Signature required"},null,8,["errors"])])]),r("small",{class:"font-bold cursor-pointer",onClick:p},"Clear Signature"),r("div",Je,[t(m,{disabled:k.loading,"no-icon":"",text:k.loading?"Please Wait ---":"Start Your Claim",onClick:n},null,8,["disabled","text"]),t(c,{text:"Back",onClick:d[1]||(d[1]=g=>l.$emit("backward"))})])],64)}}},Le={class:"relative left-1/2 -translate-x-1/2 w-[97vw] md:w-[99vw] mt-6 md:mt-4"},We={class:"max-w-[1000px] mx-auto"},Ge={class:"p-3 mx-auto"},Ze={class:"flex items-center"},Qe={class:"max-w-[700px] mx-auto mt-20 bg-orange-50 py-5 px-5 lg:px-7 box-border"},Xe={key:0,class:"swizard_page1"},et={key:1,class:"swizard_page1"},tt={key:2,class:"swizard_page2"},ot={key:3,class:"swizard_page3"},st={key:4,class:"swizard_page4"};function lt(k,i,b,o,y,p){return x(),h("div",Le,[r("div",We,[r("div",Ge,[r("div",Ze,[(x(!0),h(I,null,A(o.state.steps,(n,u)=>(x(),F(o.ProgressStep,{"is-last":o.state.steps.length==u+1,key:u,title:n.title,number:n.number,step:u+1,current:o.state.step},null,8,["is-last","title","number","step","current"]))),128))]),r("div",Qe,[o.state.step==1?(x(),h("div",Xe,[t(o.Criteria,{modelValue:o.state.form[0],"onUpdate:modelValue":i[0]||(i[0]=n=>o.state.form[0]=n),onForward:o.stepForward},null,8,["modelValue"])])):P("",!0),o.state.step==2?(x(),h("div",et,[t(o.Claim,{modelValue:o.state.form[1],"onUpdate:modelValue":i[1]||(i[1]=n=>o.state.form[1]=n),onForward:o.stepForward},null,8,["modelValue"])])):P("",!0),o.state.step==3?(x(),h("div",tt,[t(o.About,{modelValue:o.state.form[2],"onUpdate:modelValue":i[2]||(i[2]=n=>o.state.form[2]=n),onForward:o.stepForward,onBackward:o.stepBack},null,8,["modelValue"])])):P("",!0),o.state.step==4?(x(),h("div",ot,[t(o.Contact,{modelValue:o.state.form[3],"onUpdate:modelValue":i[3]||(i[3]=n=>o.state.form[3]=n),onForward:o.stepForward,onBackward:o.stepBack},null,8,["modelValue"])])):P("",!0),o.state.step==5?(x(),h("div",st,[t(o.StartClaim,{modelValue:o.state.form[4],"onUpdate:modelValue":i[4]||(i[4]=n=>o.state.form[4]=n),onForward:o.submit,onBackward:o.stepBack,loading:o.state.loading},null,8,["modelValue","loading"])])):P("",!0)])])])])}const rt={__name:"App",setup(k,{expose:i}){i();function b(){w.step>=1&&w.step<=5&&(w.step++,p())}function o(){w.step>1&&w.step<=5&&w.step--}async function y(){w.loading=!0;const u={...w.form[0],...w.form[1],...w.form[2],...w.form[3]},l=await M.post(w.url,u);w.loading=!1,window.location.href="/thank-you?reference="+l.data.claimID}function p(){document.getElementById("app").scrollIntoView()}const n={stepForward:b,stepBack:o,submit:y,scrollUp:p,computed:q,onMounted:J,ref:O,axios:M,state:w,Reusable:S,Criteria:be,Claim:Pe,About:Me,Contact:Te,StartClaim:Ke,ProgressStep:oe};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}},nt=Y(rt,[["render",lt]]);K(nt).use(L).component("IconInfo",W).component("IconNext",G).component("IconPrevious",Z).component("IconSelect",Q).component("HasError",se).component("NextButton",le).component("BackButton",re).component("VueFinalModal",X).component("ModalMarkup",ne).component("RadioBox",ae).component("Question",ie).component("InputText",ue).component("InputSelect",de).component("SignCheckbox",me).component("StepTitle",ce).mount("#app");
