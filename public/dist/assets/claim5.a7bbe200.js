import{r as N,C as A,k as j,a as u,o as g,c as k,b as t,d as l,F as I,A as e,e as O,f as q,w as F,t as K,h as P,R as M,_ as D,y as L,i as H,j as T,l as S,m as G,p as Z,I as Q,q as X,s as ee,u as te,E as oe}from"./reuseable.d23cd3c9.js";import{_ as se,a as le,b as re,H as ne,c as ae,d as ie,e as ue,f as de,g as me,h as ce,i as pe,j as _e,k as fe}from"./ProgressStep.691862b0.js";import{m as be}from"./mitt.550594b0.js";const xe=["Mr","Mrs","Miss","Ms","Dr"],ge=[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],z={year_1:null,year_2:null,year_3:null,year_4:null},R={title:null,first_name:null,last_name:null},Y={day:null,month:null,year:null},$={self_assessment:"Unfortunately we can\u2019t proceed with your claim and you will have to contact your accountant to do this for you.",ni:"NI Number is required to identify your tax information with HMRC. Example JJ123456C",years:"A rough estimate of amount you've received in pounds (\xA3)"},v=N({url:"/ReclaimPPI/lead/form",step:1,loading:!1,steps:[{title:"Criteria",number:1},{title:"PPI Claim Details",number:2},{title:"About You",number:3},{title:"Contact Details",number:4},{title:"Start Claim",number:5}],form:[{self_assessment:null},{...z,less_earning:null,ni_number:null,cant_remember:null},{...R,...Y},{email:null,phone:null,address:null,postcode:null,agree:null},{referral_code:null,signature:null}]}),ye={class:"mt-6 mb-4"},ve={__name:"criteria",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(y,{emit:i}){const _=y,o=A("emitter");N({required:["self_assessment"],errors:[]});const f=j({get(){return _.modelValue},set(n){i("update:modelValue",n)}});function d(){f.self_assessment=!1,a()}function r(){f.self_assessment=!0,o.emit("toggleModal",{name:"assessmentModal",show:!0})}function a(){i("forward")}return(n,p)=>{const m=u("step-title"),c=u("question");return g(),k(I,null,[t(m,{title:"Is the below statement true?"}),l("div",ye,[t(c,{labelFor:"",class:"text-center max-w-[450px] mx-auto",text:"Please press proceed if you were NOT self-employed the year you got your PPI refund."}),l("div",{class:"flex flex-col md:flex-row gap-5 justify-center mt-6 items-center"},[l("button",{onClick:d,type:"button",class:"border-red-600 border-solid border-2 font-medium text-red-600 flex items-center justify-center rounded py-2 px-4 max-w-[200px] w-full"}," Proceed "),l("button",{type:"button",class:"border-red-600 border-solid border-2 font-medium text-red-600 flex items-center justify-center rounded py-2 px-4 max-w-[200px] w-full",onClick:r}," I was self-employed ")])])],64)}}},Ve={class:"mt-6 mb-4"},we={class:"grid sm:grid-cols-2 sm:justify-items-center gap-x-6"},he={class:"flex justify-start w-full mt-4"},ke={class:"mt-6 mb-4"},Ce={class:"flex my-2"},Ie={class:"mt-6 mb-2"},Be={class:"absolute right-2 top-1/2 -translate-y-1/2 cursor-pointer group duration-300"},Pe={class:"absolute hidden group-hover:flex -left-[145px] sm:-left-[285px] -top-4 -translate-y-full sm:w-80 w-44 px-2 py-1 bg-gray-700 rounded-lg text-white text-sm after:content-[''] after:absolute after:right-[2%] after:top-[100%] after:-translate-x-1/2 after:border-8 after:border-x-transparent after:border-b-transparent after:border-t-gray-700"},Ne={class:"mt-2"},je={class:"flex items-center mt-2 mb-6"},qe={class:"flex items-center justify-center"},Me={__name:"claim",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(y,{emit:i}){const _=y,{filterEmptyKeys:o,hasEvery:f,arrayIntersection:d,range:r}=M();let a=N({showAssessmentModal:!1,required:["years","less_earning","ni_number"],errors:[]});const n=j({get(){return _.modelValue},set(c){i("update:modelValue",c)}});function p(){const c=_.modelValue;let s=Object.values(a.required);s.includes("ni_number")&&c.cant_remember&&s.splice(s.indexOf("ni_number"),1);const b=o(c);let x=d(b,s);f(Object.keys(z),b)&&x.push("years");var V=new RegExp("^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$");return![null,""].includes(c.ni_number)&&!V.test(c.ni_number)&&x.push("invalid_ni"),a.errors=[...x],!a.errors.length}function m(){p()&&i("forward")}return(c,s)=>{const b=u("step-title"),x=u("question"),V=u("HasError"),B=u("radio-box"),w=u("IconInfo"),E=u("input-text"),U=u("sign-checkbox"),h=u("NextButton");return g(),k(I,null,[t(b,{title:"Please enter your PPI Claim details"}),e(n)?(g(),k(I,{key:0},[l("div",Ve,[t(x,{text:`Please provide us with the TOTAL amount you
                received for your PPI refunds in the relevant tax
                years below:`}),l("div",we,[(g(!0),k(I,null,O(e(r)(1,1,4),C=>(g(),q(se,{modelValue:e(n)["year_"+C],"onUpdate:modelValue":W=>e(n)["year_"+C]=W,label:`Apr ${2018+C-1} - Mar ${2018+C}`,tooltip:e($).years},null,8,["modelValue","onUpdate:modelValue","label","tooltip"]))),256)),l("div",he,[t(V,{field:"years",errors:e(a).errors,message:"Please fill at least one record"},null,8,["errors"])])])]),l("div",ke,[t(x,{text:`Were you earning less than \xA350,000 a year at the
                time you received your PPI refund?`}),l("div",Ce,[t(B,{name:"less_earning",modelValue:e(n).less_earning,"onUpdate:modelValue":s[0]||(s[0]=C=>e(n).less_earning=C),value:!0,label:"Yes"},null,8,["modelValue"]),t(B,{name:"less_earning",modelValue:e(n).less_earning,"onUpdate:modelValue":s[1]||(s[1]=C=>e(n).less_earning=C),value:!1,label:"No"},null,8,["modelValue"])]),t(V,{field:"less_earning",errors:e(a).errors},null,8,["errors"])]),l("div",Ie,[t(E,{label:"National Insurance (NI) Number",modelValue:e(n).ni_number,"onUpdate:modelValue":s[2]||(s[2]=C=>e(n).ni_number=C)},{default:F(()=>[l("span",Be,[t(w),l("span",Pe,K(e($).ni),1)])]),_:1},8,["modelValue"]),l("div",Ne,[t(V,{field:"invalid_ni",errors:e(a).errors,message:"Invalid NI Number"},null,8,["errors"]),t(V,{field:"ni_number",errors:e(a).errors},null,8,["errors"])])]),l("div",je,[t(U,{modelValue:e(n).cant_remember,"onUpdate:modelValue":s[3]||(s[3]=C=>e(n).cant_remember=C),value:!0,label:"Can't remember (Provide it later)",disabled:c.niCheckDisabled},null,8,["modelValue","disabled"])]),l("div",qe,[t(h,{text:"Continue",onClick:m})])],64)):P("",!0)],64)}}},Ee={class:"flex flex-col sm:flex-row mt-6"},Ue={class:"basis-1/3 pr-2"},$e={class:"basis-1/3 pr-2 mt-5 sm:mt-0"},Se={class:"basis-1/3 pr-2 mt-5 sm:mt-0"},Ae={class:"flex flex-col sm:flex-row"},Oe={class:"flex items-center justify-center flex-col"},Fe={__name:"about",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(y,{emit:i}){const _=y,{range:o,hasSome:f,filterEmptyKeys:d,arrayIntersection:r}=M();let a=N({required:["name","dob"],errors:[]});const n=j({get(){return console.log(_),_.modelValue},set(c){i("update:modelValue",c)}});function p(){const c=_.modelValue;let s=Object.values(a.required);const b=d(c);let x=r(b,s);return f(Object.keys(R),b)&&x.push("name"),f(Object.keys(Y),b)&&x.push("dob"),a.errors=[...x],!a.errors.length}function m(){p()&&i("forward")}return(c,s)=>{const b=u("step-title"),x=u("input-select"),V=u("input-text"),B=u("HasError"),w=u("question"),E=u("NextButton"),U=u("BackButton");return g(),k(I,null,[t(b,{title:"Please complete your details below to start your claim"}),l("div",Ee,[l("div",Ue,[t(x,{class:"",label:"Title",options:e(xe),modelValue:e(n).title,"onUpdate:modelValue":s[0]||(s[0]=h=>e(n).title=h)},null,8,["options","modelValue"])]),l("div",$e,[t(V,{class:"",label:"First Name",modelValue:e(n).first_name,"onUpdate:modelValue":s[1]||(s[1]=h=>e(n).first_name=h)},null,8,["modelValue"])]),l("div",Se,[t(V,{class:"",label:"Last Name",modelValue:e(n).last_name,"onUpdate:modelValue":s[2]||(s[2]=h=>e(n).last_name=h)},null,8,["modelValue"])])]),t(B,{class:"mt-1",field:"name",errors:e(a).errors,message:"The above fields are required"},null,8,["errors"]),t(w,{class:"mt-6",text:"DOB"}),l("div",Ae,[t(x,{class:"basis-1/3 pr-2",label:"Day","in-select":"",options:e(o)(1,1,31),modelValue:e(n).day,"onUpdate:modelValue":s[3]||(s[3]=h=>e(n).day=h)},null,8,["options","modelValue"]),t(x,{class:"basis-1/3 pr-2 mt-5 sm:mt-0",label:"Month","in-select":"",options:e(ge),modelValue:e(n).month,"onUpdate:modelValue":s[4]||(s[4]=h=>e(n).month=h)},null,8,["options","modelValue"]),t(x,{class:"basis-1/3 pr-2 mt-5 sm:mt-0",label:"Year","in-select":"",options:e(o)(new Date().getFullYear()-100,1,new Date().getFullYear()).reverse(),modelValue:e(n).year,"onUpdate:modelValue":s[5]||(s[5]=h=>e(n).year=h)},null,8,["options","modelValue"])]),t(B,{class:"mt-1",field:"dob",errors:e(a).errors,message:"The above fields are required"},null,8,["errors"]),l("div",Oe,[t(E,{class:"mt-8 mb-2",text:"Continue",onClick:m}),t(U,{class:"font-bold",text:"Back",onClick:s[6]||(s[6]=h=>c.$emit("backward"))})])],64)}}},De={class:"mt-6"},He={class:"mt-6"},Te={class:"mt-6"},ze={class:"mt-6"},Re={class:"flex items-center mt-4 text-sm"},Ye={class:"flex items-center justify-center flex-col mt-7"},Je={__name:"contact",props:{modelValue:{type:Object,required:!0},messages:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(y,{emit:i}){const _=y,{filterEmptyKeys:o,arrayIntersection:f}=M();let d=N({required:["phone","address","postcode","agree","signature"],errors:[]});const r=j({get(){return console.log(_),_.modelValue},set(p){i("update:modelValue",p)}});function a(){const p=_.modelValue;let m=Object.values(d.required);const c=o(p);let s=f(c,m);return p.phone!=null&&(p.phone.length!=11||p.phone.charAt(0)!="0")&&s.push("invalid_phone"),!p.agree&&!s.includes("agree")&&s.push("agree"),d.errors=[...s],!d.errors.length}function n(){a()&&i("forward")}return(p,m)=>{const c=u("step-title"),s=u("input-text"),b=u("HasError"),x=u("sign-checkbox"),V=u("NextButton"),B=u("BackButton");return g(),k(I,null,[t(c,{title:"Enter your contact details to claim your tax back"}),l("div",null,[l("div",De,[t(s,{type:"email",label:"Email",modelValue:e(r).email,"onUpdate:modelValue":m[0]||(m[0]=w=>e(r).email=w)},null,8,["modelValue"]),t(b,{class:"mt-1",field:"email",errors:e(d).errors},null,8,["errors"]),t(b,{class:"mt-1",field:"invalid_email",errors:e(d).errors,message:"Invalid Email"},null,8,["errors"])]),l("div",He,[t(s,{type:"tel",label:"Phone Number",modelValue:e(r).phone,"onUpdate:modelValue":m[1]||(m[1]=w=>e(r).phone=w)},null,8,["modelValue"]),t(b,{class:"mt-1",field:"phone",errors:e(d).errors},null,8,["errors"]),t(b,{class:"mt-1",field:"invalid_phone",errors:e(d).errors,message:"Invalid Phone Number"},null,8,["errors"])]),l("div",Te,[t(s,{label:"Address",modelValue:e(r).address,"onUpdate:modelValue":m[2]||(m[2]=w=>e(r).address=w)},null,8,["modelValue"]),t(b,{class:"mt-1",field:"address",errors:e(d).errors},null,8,["errors"])]),l("div",ze,[t(s,{label:"Postcode",modelValue:e(r).postcode,"onUpdate:modelValue":m[3]||(m[3]=w=>e(r).postcode=w)},null,8,["modelValue"]),t(b,{class:"mt-1",field:"postcode",errors:e(d).errors},null,8,["errors"])])]),l("div",Re,[t(x,{modelValue:e(r).agree,"onUpdate:modelValue":m[4]||(m[4]=w=>e(r).agree=w),value:!0,label:"I agree for Reclaim My PPI Tax to contact me with regards to any tax rebate purposes."},null,8,["modelValue"])]),t(b,{class:"mt-2",field:"agree",errors:e(d).errors},null,8,["errors"]),l("div",Ye,[t(V,{text:"Continue",onClick:n}),t(B,{text:"Back",onClick:m[5]||(m[5]=w=>p.$emit("backward"))})])],64)}}},We={},Ke=L('<div class="text-center"><h3 class="my-11 font-normal text-3xl md:text-5xl mt-3 md:mt-10 mb-3">Great News!</h3><p class="font-medium mb-3"><span class="text-green-600">Congratulations, </span> You 100% meet the criteria </p><p class="inline-block py-4 px-2 max-w-[500px] w-full mb-5 rounded bg-[#e1dddc4f]"> Our customers get money back in 6 Weeks! </p><hr class="mb-5"></div><div class="text-base mb-6"><p> Signing below agrees you into our <a target="__blank" href="https://reclaimmyppitax.co.uk/terms-conditions" class="text-red-700">terms and conditions</a> and our NO WIN NO FEE services. </p></div>',2);function Le(y,i){return Ke}const Ge=D(We,[["render",Le]]),Ze={class:"mt-6 mb-1"},Qe=l("p",{class:"mb-1"},"Please draw your signature below in the green box.",-1),Xe={class:""},et={class:"flex items-center justify-center flex-col mt-8"},tt={__name:"start-claim",props:{modelValue:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["update:modelValue","forward"],setup(y,{emit:i}){const _=y,o=H(null);let f=N({errors:[]});function d(){o.value.clearSignature()}function r(){const{isEmpty:n,data:p}=o.value.saveSignature();if(n){f.errors.push("signature");return}a.value.signature=p,i("forward")}const a=j({get(){return _.modelValue},set(n){return new Proxy(_.modelValue,{set(p,m,c){return i("update:modelValue",{...p,[m]:c}),!0}})}});return(n,p)=>{const m=u("input-text"),c=u("VueSignaturePad"),s=u("HasError"),b=u("NextButton"),x=u("BackButton");return g(),k(I,null,[y.loading?(g(),q(le,{key:0})):P("",!0),t(Ge),t(m,{label:"Do you have a referral code? (optional)",modelValue:e(a).referral_code,"onUpdate:modelValue":p[0]||(p[0]=V=>e(a).referral_code=V)},null,8,["modelValue"]),l("div",Ze,[Qe,l("div",Xe,[t(c,{class:"h-32 w-full bg-white border border-green-500 rounded",ref_key:"signaturePad",ref:o},null,512),t(s,{class:"mt-2",field:"signature",errors:e(f).errors,message:"Signature required"},null,8,["errors"])])]),l("small",{class:"font-bold cursor-pointer",onClick:d},"Clear Signature"),l("div",et,[t(b,{disabled:y.loading,"no-icon":"",text:y.loading?"Please Wait ---":"Start Your Claim",onClick:r},null,8,["disabled","text"]),t(x,{text:"Back",onClick:p[1]||(p[1]=V=>n.$emit("backward"))})])],64)}}},ot={__name:"modal",setup(y){const i=A("emitter");let _=N({assessmentModal:!1});return T(()=>{i.on("toggleModal",({name:o,show:f})=>{_[o]=f})}),(o,f)=>{const d=u("ModalMarkup"),r=u("vue-final-modal");return g(),q(r,{classes:"flex justify-center items-center","content-class":"relative flex flex-col w-[500px] max-h-full mx-4 border rounded bg-white",modelValue:e(_).assessmentModal,"onUpdate:modelValue":f[0]||(f[0]=a=>e(_).assessmentModal=a)},{default:F(({close:a})=>[t(d,{title:"Warning!!!",text:e($).self_assessment,onClose:a},null,8,["text","onClose"])]),_:1},8,["modelValue"])}}},st={class:"relative left-1/2 -translate-x-1/2 w-full md:w-[99vw] mt-6 md:mt-4 pt-14 overflow-hidden"},lt={class:"max-w-[1000px] mx-auto"},rt={class:"mx-auto"},nt={class:"flex items-center"},at={class:"max-w-[700px] mx-auto mt-10 md:mt-20 bg-orange-50 py-5 px-3 lg:px-7 box-border relative"},it={key:0,class:"swizard_page1"},ut={key:1,class:"swizard_page1"},dt={key:2,class:"swizard_page2"},mt={key:3,class:"swizard_page3"},ct={key:4,class:"swizard_page4"};function pt(y,i,_,o,f,d){return g(),k(I,null,[t(o.Modal),l("div",st,[l("div",lt,[l("div",rt,[l("div",nt,[(g(!0),k(I,null,O(o.state.steps,(r,a)=>(g(),q(o.ProgressStep,{"is-last":o.state.steps.length==a+1,key:a,title:r.title,number:r.number,step:a+1,current:o.state.step},null,8,["is-last","title","number","step","current"]))),128))]),l("div",at,[o.state.step==1?(g(),k("div",it,[t(o.Criteria,{modelValue:o.state.form[0],"onUpdate:modelValue":i[0]||(i[0]=r=>o.state.form[0]=r),onForward:o.stepForward},null,8,["modelValue"])])):P("",!0),o.state.step==2?(g(),k("div",ut,[t(o.Claim,{modelValue:o.state.form[1],"onUpdate:modelValue":i[1]||(i[1]=r=>o.state.form[1]=r),onForward:o.stepForward},null,8,["modelValue"])])):P("",!0),o.state.step==3?(g(),k("div",dt,[t(o.About,{modelValue:o.state.form[2],"onUpdate:modelValue":i[2]||(i[2]=r=>o.state.form[2]=r),onForward:o.stepForward,onBackward:o.stepBack},null,8,["modelValue"])])):P("",!0),o.state.step==4?(g(),k("div",mt,[t(o.Contact,{modelValue:o.state.form[3],"onUpdate:modelValue":i[3]||(i[3]=r=>o.state.form[3]=r),onForward:o.stepForward,onBackward:o.stepBack},null,8,["modelValue"])])):P("",!0),o.state.step==5?(g(),k("div",ct,[t(o.StartClaim,{modelValue:o.state.form[4],"onUpdate:modelValue":i[4]||(i[4]=r=>o.state.form[4]=r),onForward:o.submit,onBackward:o.stepBack,loading:o.state.loading},null,8,["modelValue","loading"])])):P("",!0)])])])])],64)}const _t={__name:"App",setup(y,{expose:i}){i();function _(){v.step>=1&&v.step<=5&&(v.step++,d())}function o(){v.step>1&&v.step<=5&&(v.step--,d())}async function f(){v.loading=!0;const a={externalID:window.location.href,...v.form[0],...v.form[1],...v.form[2],...v.form[3],...v.form[4]},n=await S.post(v.url,a,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Credentials":"true"}});v.loading=!1,window.open("https://reclaimmyppitax.co.uk/thank-you?reference="+n.data.claimID,"_blank")}function d(){document.getElementById("app").scrollIntoView()}const r={stepForward:_,stepBack:o,submit:f,scrollUp:d,computed:j,onMounted:T,ref:H,axios:S,state:v,Reusable:M,Criteria:ve,Claim:Me,About:Fe,Contact:Je,StartClaim:tt,ProgressStep:re,Modal:ot};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}},ft=D(_t,[["render",pt]]),bt=be(),J=G(ft);J.provide("emitter",bt);J.use(Z).component("IconInfo",Q).component("IconNext",X).component("IconPrevious",ee).component("IconSelect",te).component("HasError",ne).component("NextButton",ae).component("BackButton",ie).component("VueFinalModal",oe).component("ModalMarkup",ue).component("RadioBox",de).component("Question",me).component("InputText",ce).component("InputSelect",pe).component("SignCheckbox",_e).component("StepTitle",fe).mount("#app");
