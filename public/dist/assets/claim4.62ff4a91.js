import{r as N,k as q,a as i,o as v,c as h,b as t,w as E,A as e,d as r,F as B,t as H,h as I,R as M,i as $,e as T,f as z,_ as R,j as Y,l as A,m as J,p as K,I as L,q as W,s as G,u as Z,E as Q}from"./reuseable.a5966b59.js";import{_ as U,G as X,a as ee,H as te,b as oe,c as le,d as se,e as re,f as ae,g as ne,h as ie,i as ue,j as de}from"./ProgressStep.1228d78e.js";const me=["Mr","Mrs","Miss","Ms","Dr"],ce=[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],F={year_1:null,year_2:null,year_3:null,year_4:null},O={title:null,first_name:null,last_name:null},D={day:null,month:null,year:null},P={self_assessment:"Unfortunately we can\u2019t proceed with your claim and you will have to contact your accountant to do this for you.",ni:"NI Number is required to identify your tax information with HMRC. Example JJ123456C",years:"A rough estimate of amount you've received in pounds (\xA3)"},V=N({url:"/ReclaimPPI/lead",step:1,loading:!1,steps:[{title:"Criteria",number:1},{title:"PPI Claim Details",number:2},{title:"About You",number:3},{title:"Contact Details",number:4},{title:"Start Claim",number:5}],form:[{self_assessment:null},{...F,less_earning:null,ni_number:null,cant_remember:null},{...O,...D},{email:null,phone:null,address:null,postcode:null,agree:null},{referral_code:null,signature:null}]}),pe={class:"mt-6 mb-4"},_e={__name:"criteria",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(w,{emit:m}){const y=w;let o=N({required:["self_assessment"],errors:[],showAssessmentModal:!1});const x=q({get(){return y.modelValue},set(p){m("update:modelValue",p)}});function b(){x.self_assessment=!1,s()}function l(){x.self_assessment=!0,o.showAssessmentModal=!0}function s(){m("forward")}return(p,_)=>{const u=i("ModalMarkup"),n=i("vue-final-modal"),a=i("step-title"),c=i("question");return v(),h(B,null,[t(n,{classes:"flex justify-center items-center","content-class":"relative flex flex-col w-[500px] max-h-full mx-4 border dark:border-gray-800 rounded bg-white dark:bg-gray-900",modelValue:e(o).showAssessmentModal,"onUpdate:modelValue":_[0]||(_[0]=f=>e(o).showAssessmentModal=f)},{default:E(({close:f})=>[t(u,{title:"Warning!!!",text:e(P).self_assessment,onClose:f},null,8,["text","onClose"])]),_:1},8,["modelValue"]),t(a,{title:"Is the below statement true?"}),r("div",pe,[t(c,{labelFor:"",class:"text-center",text:"I was Not self employed the year I received my PPI refund"}),r("div",{class:"flex gap-5 justify-center mt-6"},[r("button",{type:"button",class:"border-red-600 border-solid border-2 font-medium text-red-600 flex items-center justify-center py-3 px-10 sm:py-4 sm:px-20 rounded",onClick:l}," Yes "),r("button",{onClick:b,type:"button",class:"bg-red-600 border-solid border-red-600 border-2 font-medium text-white flex items-center justify-center py-3 px-10 sm:py-4 sm:px-20 rounded"}," No ")])])],64)}}},fe={class:"mt-6 mb-4"},be={class:"grid sm:grid-cols-2 sm:justify-items-center gap-x-6"},ye={class:"flex justify-start w-full mt-4"},xe={class:"mt-6 mb-4"},ge={class:"flex my-2"},Ve={class:"mt-6 mb-2"},ve={class:"absolute right-2 top-11 cursor-pointer group duration-300"},we={class:"absolute hidden group-hover:flex -left-[145px] sm:-left-[285px] -top-4 -translate-y-full sm:w-80 w-44 px-2 py-1 bg-gray-700 rounded-lg text-white text-sm after:content-[''] after:absolute after:right-[2%] after:top-[100%] after:-translate-x-1/2 after:border-8 after:border-x-transparent after:border-b-transparent after:border-t-gray-700"},he={class:"mt-2"},ke={class:"flex items-center mt-2 mb-6"},Be={class:"flex items-center justify-center"},Ce={__name:"claim",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(w,{emit:m}){const y=w,{filterEmptyKeys:o,hasEvery:x,arrayIntersection:b}=M();let l=N({showAssessmentModal:!1,required:["years","less_earning","ni_number"],errors:[]});const s=q({get(){return y.modelValue},set(u){m("update:modelValue",u)}});function p(){const u=y.modelValue;let n=Object.values(l.required);n.includes("ni_number")&&u.cant_remember&&n.splice(n.indexOf("ni_number"),1);const a=o(u);let c=b(a,n);x(Object.keys(F),a)&&c.push("years");var f=new RegExp("^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$");return![null,""].includes(u.ni_number)&&!f.test(u.ni_number)&&c.push("invalid_ni"),l.errors=[...c],!l.errors.length}function _(){p()&&m("forward")}return(u,n)=>{const a=i("step-title"),c=i("question"),f=i("HasError"),k=i("radio-box"),C=i("IconInfo"),g=i("input-text"),S=i("sign-checkbox"),j=i("NextButton");return v(),h(B,null,[t(a,{title:"Please enter your PPI Claim details"}),e(s)?(v(),h(B,{key:0},[r("div",fe,[t(c,{text:`Please provide us with the TOTAL amount you
                received for your PPI refunds in the relevant tax
                years below:`}),r("div",be,[t(U,{modelValue:e(s).year_1,"onUpdate:modelValue":n[0]||(n[0]=d=>e(s).year_1=d),label:"Apr 2018 - Mar 2020",tooltip:e(P).years},null,8,["modelValue","tooltip"]),t(U,{modelValue:e(s).year_2,"onUpdate:modelValue":n[1]||(n[1]=d=>e(s).year_2=d),label:"Apr 2018 - Mar 2019",tooltip:e(P).years},null,8,["modelValue","tooltip"]),t(U,{modelValue:e(s).year_3,"onUpdate:modelValue":n[2]||(n[2]=d=>e(s).year_3=d),label:"Apr 2018 - Mar 2019",tooltip:e(P).years},null,8,["modelValue","tooltip"]),t(U,{modelValue:e(s).year_4,"onUpdate:modelValue":n[3]||(n[3]=d=>e(s).year_4=d),label:"Apr 2018 - Mar 2019",tooltip:e(P).years},null,8,["modelValue","tooltip"]),r("div",ye,[t(f,{field:"years",errors:e(l).errors,message:"Please fill at least one record"},null,8,["errors"])])])]),r("div",xe,[t(c,{text:`Were you earning less than \xA350,000 a year at the
                time you received your PPI refund?`}),r("div",ge,[t(k,{name:"less_earning",modelValue:e(s).less_earning,"onUpdate:modelValue":n[4]||(n[4]=d=>e(s).less_earning=d),value:!0,label:"Yes"},null,8,["modelValue"]),t(k,{name:"less_earning",modelValue:e(s).less_earning,"onUpdate:modelValue":n[5]||(n[5]=d=>e(s).less_earning=d),value:!1,label:"No"},null,8,["modelValue"])]),t(f,{field:"less_earning",errors:e(l).errors},null,8,["errors"])]),r("div",Ve,[t(g,{label:"National insurance (NI) Number",modelValue:e(s).ni_number,"onUpdate:modelValue":n[6]||(n[6]=d=>e(s).ni_number=d)},{default:E(()=>[r("span",ve,[t(C),r("span",we,H(e(P).ni),1)])]),_:1},8,["modelValue"]),r("div",he,[t(f,{field:"invalid_ni",errors:e(l).errors,message:"Invalid NI Number"},null,8,["errors"]),t(f,{field:"ni_number",errors:e(l).errors},null,8,["errors"])])]),r("div",ke,[t(S,{modelValue:e(s).cant_remember,"onUpdate:modelValue":n[7]||(n[7]=d=>e(s).cant_remember=d),value:!0,label:"Can't remember (Provide it later)",disabled:u.niCheckDisabled},null,8,["modelValue","disabled"])]),r("div",Be,[t(j,{text:"Continue",onClick:_})])],64)):I("",!0)],64)}}},Ie={class:"flex flex-col sm:flex-row mt-6"},Pe={class:"basis-1/3 pr-2"},Ne={class:"basis-1/3 pr-2 mt-5 sm:mt-0"},qe={class:"basis-1/3 pr-2 mt-5 sm:mt-0"},Ue={class:"flex flex-col sm:flex-row"},Me={class:"flex items-center justify-center flex-col"},Se={__name:"about",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(w,{emit:m}){const y=w,{range:o,hasSome:x,filterEmptyKeys:b,arrayIntersection:l}=M();let s=N({required:["name","dob"],errors:[]});const p=q({get(){return console.log(y),y.modelValue},set(n){m("update:modelValue",n)}});function _(){const n=y.modelValue;let a=Object.values(s.required);const c=b(n);let f=l(c,a);return x(Object.keys(O),c)&&f.push("name"),x(Object.keys(D),c)&&f.push("dob"),s.errors=[...f],!s.errors.length}function u(){_()&&m("forward")}return(n,a)=>{const c=i("step-title"),f=i("input-select"),k=i("input-text"),C=i("HasError"),g=i("question"),S=i("NextButton"),j=i("BackButton");return v(),h(B,null,[t(c,{title:"Please complete your details below to start your claim"}),r("div",Ie,[r("div",Pe,[t(f,{class:"",label:"Title",options:e(me),modelValue:e(p).title,"onUpdate:modelValue":a[0]||(a[0]=d=>e(p).title=d)},null,8,["options","modelValue"])]),r("div",Ne,[t(k,{class:"",label:"First Name",modelValue:e(p).first_name,"onUpdate:modelValue":a[1]||(a[1]=d=>e(p).first_name=d)},null,8,["modelValue"])]),r("div",qe,[t(k,{class:"",label:"Last Name",modelValue:e(p).last_name,"onUpdate:modelValue":a[2]||(a[2]=d=>e(p).last_name=d)},null,8,["modelValue"])])]),t(C,{class:"mt-1",field:"name",errors:e(s).errors,message:"The above fields are required"},null,8,["errors"]),t(g,{class:"mt-6",text:"DOB"}),r("div",Ue,[t(f,{class:"basis-1/3 pr-2",label:"Day","in-select":"",options:e(o)(1,1,31),modelValue:e(p).day,"onUpdate:modelValue":a[3]||(a[3]=d=>e(p).day=d)},null,8,["options","modelValue"]),t(f,{class:"basis-1/3 pr-2 mt-5 sm:mt-0",label:"Month","in-select":"",options:e(ce),modelValue:e(p).month,"onUpdate:modelValue":a[4]||(a[4]=d=>e(p).month=d)},null,8,["options","modelValue"]),t(f,{class:"basis-1/3 pr-2 mt-5 sm:mt-0",label:"Year","in-select":"",options:e(o)(new Date().getFullYear()-100,1,new Date().getFullYear()).reverse(),modelValue:e(p).year,"onUpdate:modelValue":a[5]||(a[5]=d=>e(p).year=d)},null,8,["options","modelValue"])]),t(C,{class:"mt-1",field:"dob",errors:e(s).errors,message:"The above fields are required"},null,8,["errors"]),r("div",Me,[t(S,{class:"mt-8 mb-2",text:"Continue",onClick:u}),t(j,{class:"font-bold",text:"Back",onClick:a[6]||(a[6]=d=>n.$emit("backward"))})])],64)}}},je={class:"mt-6"},Ae={class:"mt-6"},Ee={class:"mt-6"},$e={class:"mt-6"},Fe={class:"flex items-center mt-4 text-sm"},Oe={class:"flex items-center justify-center flex-col mt-7"},De={__name:"contact",props:{modelValue:{type:Object,required:!0},messages:{type:Object,required:!0}},emits:["update:modelValue","forward"],setup(w,{emit:m}){const y=w,{filterEmptyKeys:o,arrayIntersection:x}=M();let b=N({required:["email","phone","address","postcode","agree","signature"],errors:[]});const l=q({get(){return console.log(y),y.modelValue},set(_){m("update:modelValue",_)}});function s(){const _=y.modelValue;let u=Object.values(b.required);const n=o(_);let a=x(n,u);var c=/\S+@\S+\.\S+/;return _.email!=null&&!c.test(_.email)&&a.push("invalid_email"),_.phone!=null&&(_.phone.length!=11||_.phone.charAt(0)!="0")&&a.push("invalid_phone"),!_.agree&&!a.includes("agree")&&a.push("agree"),b.errors=[...a],!b.errors.length}function p(){s()&&m("forward")}return(_,u)=>{const n=i("step-title"),a=i("input-text"),c=i("HasError"),f=i("sign-checkbox"),k=i("NextButton"),C=i("BackButton");return v(),h(B,null,[t(n,{title:"Enter your contact details to claim your tax back"}),r("div",null,[r("div",je,[t(a,{type:"email",label:"Email",modelValue:e(l).email,"onUpdate:modelValue":u[0]||(u[0]=g=>e(l).email=g)},null,8,["modelValue"]),t(c,{class:"mt-1",field:"email",errors:e(b).errors},null,8,["errors"]),t(c,{class:"mt-1",field:"invalid_email",errors:e(b).errors,message:"Invalid Email"},null,8,["errors"])]),r("div",Ae,[t(a,{type:"tel",label:"Phone Number",modelValue:e(l).phone,"onUpdate:modelValue":u[1]||(u[1]=g=>e(l).phone=g)},null,8,["modelValue"]),t(c,{class:"mt-1",field:"phone",errors:e(b).errors},null,8,["errors"]),t(c,{class:"mt-1",field:"invalid_phone",errors:e(b).errors,message:"Invalid Phone Number"},null,8,["errors"])]),r("div",Ee,[t(a,{label:"Address",modelValue:e(l).address,"onUpdate:modelValue":u[2]||(u[2]=g=>e(l).address=g)},null,8,["modelValue"]),t(c,{class:"mt-1",field:"address",errors:e(b).errors},null,8,["errors"])]),r("div",$e,[t(a,{label:"Postcode",modelValue:e(l).postcode,"onUpdate:modelValue":u[3]||(u[3]=g=>e(l).postcode=g)},null,8,["modelValue"]),t(c,{class:"mt-1",field:"postcode",errors:e(b).errors},null,8,["errors"])])]),r("div",Fe,[t(f,{modelValue:e(l).agree,"onUpdate:modelValue":u[4]||(u[4]=g=>e(l).agree=g),value:!0,label:"I agree for Reclaim My PPI Tax to contact me with regards to any tax rebate purposes."},null,8,["modelValue"])]),t(c,{class:"mt-2",field:"agree",errors:e(b).errors},null,8,["errors"]),r("div",Oe,[t(k,{text:"Continue",onClick:p}),t(C,{text:"Back",onClick:u[5]||(u[5]=g=>_.$emit("backward"))})])],64)}}},He={class:"mt-6 mb-1"},Te=r("p",{class:"mb-1"}," Please draw your signature below in the green box. ",-1),ze={class:""},Re={class:"flex items-center justify-center flex-col mt-8"},Ye={__name:"start-claim",props:{modelValue:{type:Object,required:!0},loading:{type:Boolean,default:!1}},emits:["update:modelValue","forward"],setup(w,{emit:m}){const y=w,o=$(null);let x=N({errors:[]});function b(){o.value.clearSignature()}function l(){const{isEmpty:p,data:_}=o.value.saveSignature();if(p){x.errors.push("signature");return}s.signature=_,m("forward")}const s=q({get(){return console.log(y),y.modelValue},set(p){m("update:modelValue",p)}});return(p,_)=>{const u=i("input-text"),n=i("VueSignaturePad"),a=i("HasError"),c=i("NextButton"),f=i("BackButton");return v(),h(B,null,[t(X),t(u,{label:"Do you have a referral code? (optional)",modelValue:e(s).referral_code,"onUpdate:modelValue":_[0]||(_[0]=k=>e(s).referral_code=k)},null,8,["modelValue"]),r("div",He,[Te,r("div",ze,[t(n,{class:"w-full bg-white border border-green-500 rounded",ref_key:"signaturePad",ref:o},null,512),t(a,{class:"mt-2",field:"signature",errors:e(x).errors,message:"Signature required"},null,8,["errors"])])]),r("small",{class:"font-bold cursor-pointer",onClick:b},"Clear Signature"),r("div",Re,[t(c,{disabled:w.loading,"no-icon":"",text:w.loading?"Please Wait ---":"Start Your Claim",onClick:l},null,8,["disabled","text"]),t(f,{text:"Back",onClick:_[1]||(_[1]=k=>p.$emit("backward"))})])],64)}}},Je={class:"relative left-1/2 -translate-x-1/2 w-[97vw] md:w-[99vw]"},Ke={class:"max-w-[1000px] mx-auto"},Le={class:"p-3 mx-auto"},We={class:"flex items-center"},Ge={class:"max-w-[700px] mx-auto mt-20 bg-orange-50 py-5 px-5 lg:px-7 box-border"},Ze={key:0,class:"swizard_page1"},Qe={key:1,class:"swizard_page1"},Xe={key:2,class:"swizard_page2"},et={key:3,class:"swizard_page3"},tt={key:4,class:"swizard_page4"};function ot(w,m,y,o,x,b){return v(),h("div",Je,[r("div",Ke,[r("div",Le,[r("div",We,[(v(!0),h(B,null,T(o.state.steps,(l,s)=>(v(),z(o.ProgressStep,{"is-last":o.state.steps.length==s+1,key:s,title:l.title,number:l.number,step:s+1,current:o.state.step},null,8,["is-last","title","number","step","current"]))),128))]),r("div",Ge,[o.state.step==1?(v(),h("div",Ze,[t(o.Criteria,{modelValue:o.state.form[0],"onUpdate:modelValue":m[0]||(m[0]=l=>o.state.form[0]=l),onForward:o.stepForward},null,8,["modelValue"])])):I("",!0),o.state.step==2?(v(),h("div",Qe,[t(o.Claim,{modelValue:o.state.form[1],"onUpdate:modelValue":m[1]||(m[1]=l=>o.state.form[1]=l),onForward:o.stepForward},null,8,["modelValue"])])):I("",!0),o.state.step==3?(v(),h("div",Xe,[t(o.About,{modelValue:o.state.form[2],"onUpdate:modelValue":m[2]||(m[2]=l=>o.state.form[2]=l),onForward:o.stepForward,onBackward:o.stepBack},null,8,["modelValue"])])):I("",!0),o.state.step==4?(v(),h("div",et,[t(o.Contact,{modelValue:o.state.form[3],"onUpdate:modelValue":m[3]||(m[3]=l=>o.state.form[3]=l),onForward:o.stepForward,onBackward:o.stepBack},null,8,["modelValue"])])):I("",!0),o.state.step==5?(v(),h("div",tt,[t(o.StartClaim,{modelValue:o.state.form[4],"onUpdate:modelValue":m[4]||(m[4]=l=>o.state.form[4]=l),onForward:o.submit,onBackward:o.stepBack,loading:o.state.loading},null,8,["modelValue","loading"])])):I("",!0)])])])])}const lt={__name:"App",setup(w,{expose:m}){m();function y(){V.step>=1&&V.step<=4&&V.step++}function o(){V.step>1&&V.step<=4&&V.step--}async function x(){V.loading=!0;const l={...V.form[0],...V.form[1],...V.form[2],...V.form[3]},s=await A.post(V.url,l);V.loading=!1,window.location.href="/thank-you?reference="+s.data.claimID}const b={stepForward:y,stepBack:o,submit:x,computed:q,onMounted:Y,ref:$,axios:A,state:V,Reusable:M,Criteria:_e,Claim:Ce,About:Se,Contact:De,StartClaim:Ye,ProgressStep:ee};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}},st=R(lt,[["render",ot]]);J(st).use(K).component("IconInfo",L).component("IconNext",W).component("IconPrevious",G).component("IconSelect",Z).component("HasError",te).component("NextButton",oe).component("BackButton",le).component("VueFinalModal",Q).component("ModalMarkup",se).component("RadioBox",re).component("Question",ae).component("InputText",ne).component("InputSelect",ie).component("SignCheckbox",ue).component("StepTitle",de).mount("#app");
