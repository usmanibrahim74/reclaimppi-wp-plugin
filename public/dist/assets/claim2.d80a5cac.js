import{_ as T,o as i,c as d,a as v,b as j,t as c,e as l,d as o,r as p,f as Q,n as M,F as k,g as J,u as G,h as A,i as S,j as Z,l as B,k as L,w as C,p as F,q as E,s as O,R as Y,x as K,y as X,I as $,z as ee,A as te,B as le,E as se}from"./reuseable.59928ad4.js";const oe={name:"HasError",props:{errors:{type:Object,required:!0},field:{type:String,required:!0},message:{type:String,default:null}},computed:{getMessage(){return this.message?this.message:"The above field is required."}}},ae=["innerHTML"];function ne(a,t,r,e,u,b){return r.errors.includes(r.field)?(i(),d("div",{key:0,class:"text-sm text-red-600 mb-2",innerHTML:b.getMessage},null,8,ae)):v("",!0)}const re=T(oe,[["render",ne]]),ie={type:"button",class:"bg-red-600 text-white flex items-center justify-center py-3 px-6 sm:py-4 sm:px-20 rounded"},de={class:"ml-4 mt-1"},ue={__name:"NextButton",props:{text:{type:String,default:"Next"}},setup(a){return(t,r)=>{const e=p("IconNext");return i(),d("button",ie,[j(c(a.text)+" ",1),l("span",de,[o(e)])])}}},me={type:"button",class:"text-gray-600 flex items-center justify-center py-4 px-20 rounded"},ce={class:"mr-4"},fe={__name:"BackButton",props:{text:{type:String,default:"Next"}},setup(a){return(t,r)=>{const e=p("IconPrevious");return i(),d("button",me,[l("span",ce,[o(e)]),j(c(a.text),1)])}}},_e={class:"relative border-b border-gray-300 py-4 px-3"},be={class:"text-2xl"},pe=l("span",null,"\xD7",-1),xe=[pe],ge={class:"p-3"},ye={class:"border-t border-gray-300 text-right text-white py-2 px-3"},ve={__name:"ModalMarkup",props:{title:{type:String,default:"Title"},text:{type:String,default:"Text"},buttonTitle:{type:String,default:"Close"}},setup(a){const t=a;return(r,e)=>(i(),d("div",null,[l("div",_e,[l("p",be,c(t.title),1),l("button",{type:"button",class:"absolute right-4 top-3 text-3xl text-gray-400",onClick:e[0]||(e[0]=u=>r.$emit("close"))},xe)]),l("div",ge,[l("p",null,c(t.text),1)]),l("div",ye,[l("button",{onClick:e[1]||(e[1]=u=>r.$emit("close")),class:"bg-blue-600 text-sm py-2 px-6 rounded"}," Close ")])]))}},R={year_1:null,year_2:null,year_3:null,year_4:null},D={title:null,first_name:null,last_name:null},H={day:null,month:null,year:null},n=Q({url:"/index.php/ReclaimPPI/lead",step:1,showAssesmentModal:!1,showYearsInfoModal:!1,showNIModal:!1,loading:!1,self_assesment_message:"Unfortunately we can\u2019t proceed with your claim and you will have to contact your accountant to do this for you.",ni_message:"NI Number is required to identify your tax information with HMRC. Example JJ123456C",years_message:"A rough estimate of amount you've received in pounds (\xA3)",errors:[],year:Object.keys(R),name:Object.keys(D),dob:Object.keys(H),steps:[{title:"PPI Claim Details",number:1},{title:"About You",number:2},{title:"Contact Details",number:3},{title:"Start Claim",number:4}],required:[["self_assesment","year","less_earning","ni_number"],["name","dob"],["email","phone","address","postcode","agree","signature"]],form:[{self_assesment:null,...R,less_earning:null,ni_number:null,cant_remember:null},{...D,...H},{email:null,phone:null,address:null,postcode:null,agree:null},{referal_code:null,signature:null}]}),he={class:"w-full relative"},ke={key:1,xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-check",width:"18",height:"18",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"#FFFFFF",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},Ve=l("path",{stroke:"none",d:"M0 0h24v24H0z"},null,-1),we=l("path",{d:"M5 12l5 5l10 -10"},null,-1),Ie=[Ve,we],Se={__name:"ProgressStep",props:{title:{type:String,default:"Step"},isLast:{type:Boolean,default:!1},step:{type:Number,required:!0},number:{type:Number,required:!0},current:{type:Number,required:!0}},setup(a){const t=a;return(r,e)=>(i(),d("div",he,[l("div",{class:M(["absolute left-1/2 -top-10 -translate-x-1/2 text-center w-full",[a.current>=a.step?"text-green-400":"text-gray-300"]])},[l("strong",null,c(t.title),1)],2),l("div",{class:M(["border-2 bg-white relative z-10 rounded-full h-10 w-10 mx-auto flex items-center justify-center",[a.current>a.step?"bg-green-400 border-green-400":"",a.current==a.step?"border-green-400 text-green-400":"text-gray-300"]])},[a.step>=a.current?(i(),d(k,{key:0},[j(c(t.number),1)],64)):(i(),d("svg",ke,Ie))],2),a.isLast?v("",!0):(i(),d("div",{key:0,class:M(["w-full left-1/2 absolute top-1/2 -translate-y-1/2 right-0 h-1",[a.current>a.step?"bg-green-400":"bg-gray-300"]])},null,2))]))}},Ce={class:"my-4 text-center"},Me={class:"text-xl sm:text-2xl font-bold"},Be=l("div",null,[l("hr",{class:"border border-slate-200"})],-1),Ne={__name:"StepTitle",props:{title:{type:String,required:!0}},setup(a){const t=a;return(r,e)=>(i(),d(k,null,[l("div",Ce,[l("p",Me,c(t.title),1)]),Be],64))}},Pe={class:"mb-5"},Ae={class:"text-lg font-bold"},Te={__name:"AmountTitle",props:{title:{type:String,required:!0}},setup(a){const t=a;return(r,e)=>(i(),d("div",Pe,[l("p",Ae,c(t.title),1)]))}},je=l("input",{id:"default-checkbox",type:"checkbox",value:"",class:"w-5 h-5 text-blue-600 bg-white rounded border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,-1),Ue={for:"default-checkbox",class:"ml-2 text-md font-medium text-gray-900 dark:text-gray-300"},qe={__name:"SignCheckbox",props:{label:{type:String,required:!0}},setup(a){const t=a;return(r,e)=>(i(),d(k,null,[je,l("label",Ue,c(t.label),1)],64))}},Fe={},Ee=J('<div class="text-center"><h3 class="my-11 font-normal">Great News!</h3><p class="font-medium mb-3"><span class="text-green-600">Congratulations, </span> You 100% meet the criteria </p><p class="inline-block py-4 px-14 mb-5 rounded bg-[#e1dddc4f]"> Our customers get money back in 6 Weeks! </p><hr class="mb-5"></div><div class="text-base mb-6"><p> Signing below agrees you into our <a target="__blank" href="/terms-conditions" class="text-red-700">terms and conditions</a> and our NO WIN NO FEE services. </p></div>',2);function Oe(a,t){return Ee}const Ye=T(Fe,[["render",Oe]]),Re={class:"mr-12"},De=["id","value","name","checked"],He=["for"],Qe={class:"w-5 h-5 border border-gray-400 bg-white rounded-full flex items-center justify-center"},Le={key:0,class:"w-3 h-3 bg-green-400 rounded-full"},ze={__name:"RadioBox",props:{modelValue:{type:Boolean,default:!1},value:{type:Boolean,default:!1},name:String,label:{type:String,default:"label"}},setup(a){const t=a;let r=Q({uuid:G.v4()});const e=A(()=>{console.log("props.value: ",t.value);let u=t.modelValue==t.value;return console.log("isChecked: ",u),u});return(u,b)=>(i(),d("div",Re,[l("input",{id:S(r).uuid,type:"radio",value:t.value,name:t.name,class:"hidden",checked:S(e),onChange:b[0]||(b[0]=f=>u.$emit("update:modelValue",f.target.value=="true"))},null,40,De),l("label",{for:S(r).uuid,class:"flex items-center cursor-pointer"},[l("div",Qe,[S(e)?(i(),d("div",Le)):v("",!0)]),l("span",{class:M(["ml-2 text-md font-medium text-gray-900 dark:text-gray-300 checked:text-green-600",[S(e)?"text-green-600":"text-inherit"]])},c(t.label),3)],8,He)]))}},We={class:"mb-1"},Je={class:"text-lg font-bold"},U={__name:"Question",props:{text:{type:String,default:"Question"}},setup(a){const t=a;return(r,e)=>(i(),d("div",We,[l("p",Je,c(t.text),1)]))}},Ge={class:""},Ze={class:"mt-3 mb-1"},Ke={class:"relative"},Xe=l("span",{class:"absolute left-3 h-full flex items-center justify-center py-1 pr-3 pl-1 border-r w-10"},"\xA3",-1),$e=["value"],et={__name:"AmountBox",props:{label:{type:String,default:"Question"},modelValue:String},setup(a){return(t,r)=>{const e=p("IconInfo");return i(),d("div",Ge,[l("p",Ze,c(a.label),1),l("div",Ke,[Xe,l("input",{class:"border-slate-300 py-3 pl-16 pr-10 rounded w-full",type:"number",value:a.modelValue,onInput:r[0]||(r[0]=u=>t.$emit("update:modelValue",u.target.value))},null,40,$e),l("span",{class:"absolute right-2 top-3 cursor-pointer",onClick:r[1]||(r[1]=u=>t.$emit("icon:click"))},[o(e)])])])}}},tt={class:"relative"},lt=["type","value"],st={__name:"InputText",props:{label:{type:String,default:"Question"},type:{type:String,default:"text"},modelValue:{type:String,default:""}},setup(a){return(t,r)=>(i(),d(k,null,[o(U,{text:a.label},null,8,["text"]),l("div",tt,[l("input",{class:"w-full pr-9 rounded border-slate-300",type:a.type,value:a.modelValue,onInput:r[0]||(r[0]=e=>t.$emit("update:modelValue",e.target.value))},null,40,lt),Z(t.$slots,"default")])],64))}},ot={class:""},at={class:"relative"},nt={value:null},rt=["selected","value"],it=l("span",{class:"absolute top-1/2 right-2 -translate-x-1/2 -translate-y-1/2"},null,-1),dt={__name:"InputSelect",props:{label:String,options:{type:Array,required:!0},modelValue:String,inSelect:{type:Boolean,default:!1}},setup(a){const t=a;function r(u){return u.value||u}function e(u){return u.label||u}return(u,b)=>(i(),d("div",ot,[a.inSelect?v("",!0):(i(),B(U,{key:0,text:a.label},null,8,["text"])),l("div",at,[l("select",{onChange:b[0]||(b[0]=f=>u.$emit("update:modelValue",f.target.value)),class:"w-full rounded border-slate-300 bg-select bg-[length:20px_14px]"},[l("option",nt,c(t.inSelect?t.label:"Select"),1),(i(!0),d(k,null,L(a.options,(f,x)=>(i(),d("option",{selected:t.modelValue==r(f),value:r(f),key:x},c(e(f)),9,rt))),128))],32),it])]))}},ut=["Mr","Mrs","Miss","Ms","Dr"],mt=[{label:"January",value:"01"},{label:"February",value:"02"},{label:"March",value:"03"},{label:"April",value:"04"},{label:"May",value:"05"},{label:"June",value:"06"},{label:"July",value:"07"},{label:"August",value:"08"},{label:"September",value:"09"},{label:"October",value:"10"},{label:"November",value:"11"},{label:"December",value:"12"}],ct={title:ut,months:mt},ft={class:"relative w-[100vw] left-1/2 -translate-x-1/2"},_t={class:"max-w-[900px] mx-auto"},bt={class:"p-3 mx-auto"},pt={class:"flex items-center"},xt={class:"max-w-[700px] mx-auto mt-20 bg-orange-50 py-5 px-5 lg:px-7 box-border"},gt={key:0},yt={class:"mt-6 mb-4"},vt={class:"flex my-2"},ht={class:"mb-4"},kt={class:"grid sm:grid-cols-2 sm:justify-items-center gap-x-6"},Vt={class:"flex justify-start w-full mt-4"},wt={class:"mt-6 mb-4"},It={class:"flex my-2"},St={class:"mt-6 mb-2"},Ct={class:"mt-2"},Mt={class:"flex items-center mt-2 mb-6"},Bt={class:"flex items-center justify-center"},Nt={key:1},Pt={class:"flex flex-col sm:flex-row mt-6"},At={class:"basis-1/3 pr-2"},Tt={class:"basis-1/3 pr-2 mt-5 sm:mt-0"},jt={class:"basis-1/3 pr-2 mt-5 sm:mt-0"},Ut={class:"flex flex-col sm:flex-row"},qt={class:"flex items-center justify-center flex-col"},Ft={key:2,class:""},Et={class:"mt-6"},Ot={class:"mt-6"},Yt={class:"mt-6"},Rt={class:"mt-6"},Dt={class:"flex items-center mt-4 text-sm"},Ht={class:"flex items-center justify-center flex-col mt-7"},Qt={key:3,class:""},Lt={class:"mt-6 mb-1"},zt=l("p",{class:"mb-1"},"Please draw your signature below in the green box.",-1),Wt={class:""},Jt={class:"flex items-center justify-center flex-col mt-8"};function Gt(a,t,r,e,u,b){const f=p("ModalMarkup"),x=p("vue-final-modal"),m=p("HasError"),N=p("IconInfo"),h=p("NextButton"),w=p("BackButton"),P=p("VueSignaturePad");return i(),d(k,null,[o(x,{classes:"flex justify-center items-center","content-class":"relative flex flex-col w-[500px] max-h-full mx-4 border dark:border-gray-800 rounded bg-white dark:bg-gray-900",modelValue:e.state.showAssesmentModal,"onUpdate:modelValue":t[0]||(t[0]=s=>e.state.showAssesmentModal=s)},{default:C(({close:s})=>[o(f,{title:"Warning!!!",text:e.state.self_assesment_message,onClose:s},null,8,["text","onClose"])]),_:1},8,["modelValue"]),o(x,{classes:"flex justify-center items-center","content-class":"relative flex flex-col w-[500px] max-h-full mx-4 border dark:border-gray-800 rounded bg-white dark:bg-gray-900",modelValue:e.state.showYearsInfoModal,"onUpdate:modelValue":t[1]||(t[1]=s=>e.state.showYearsInfoModal=s)},{default:C(({close:s})=>[o(f,{title:"Info!",text:e.state.years_message,onClose:s},null,8,["text","onClose"])]),_:1},8,["modelValue"]),o(x,{classes:"flex justify-center items-center","content-class":"relative flex flex-col w-[500px] max-h-full mx-4 border dark:border-gray-800 rounded bg-white dark:bg-gray-900",modelValue:e.state.showNIModal,"onUpdate:modelValue":t[2]||(t[2]=s=>e.state.showNIModal=s)},{default:C(({close:s})=>[o(f,{title:"Info!",text:e.state.ni_message,onClose:s},null,8,["text","onClose"])]),_:1},8,["modelValue"]),l("div",ft,[l("div",_t,[l("div",bt,[l("div",pt,[(i(!0),d(k,null,L(e.state.steps,(s,I)=>(i(),B(e.ProgressStep,{"is-last":e.state.steps.length==I+1,key:I,title:s.title,number:s.number,step:I+1,current:e.state.step},null,8,["is-last","title","number","step","current"]))),128))]),l("div",xt,[e.state.step==1?(i(),d("div",gt,[o(e.StepTitle,{title:"Please enter your PPI Claim details"}),l("div",yt,[o(e.Question,{text:"Were you required to complete a Self-Assessment the year you got your PPI refund?"}),l("div",vt,[o(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].self_assesment,"onUpdate:modelValue":[t[3]||(t[3]=s=>e.state.form[0].self_assesment=s),e.selfAssesedClick],value:!0,label:"Yes"},null,8,["modelValue"]),o(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].self_assesment,"onUpdate:modelValue":t[4]||(t[4]=s=>e.state.form[0].self_assesment=s),value:!1,label:"No"},null,8,["modelValue"])]),o(m,{field:"self_assesment",errors:e.state.errors},null,8,["errors"])]),l("div",ht,[o(e.Question,{class:"mb-3",text:`Please provide us with the TOTAL amount you received for
                        your PPI refunds in the relevant tax years below:`}),l("div",kt,[o(e.AmountBox,{modelValue:e.state.form[0].year_1,"onUpdate:modelValue":t[5]||(t[5]=s=>e.state.form[0].year_1=s),label:"Apr 2018 - Mar 2020","onIcon:click":t[6]||(t[6]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(e.AmountBox,{modelValue:e.state.form[0].year_2,"onUpdate:modelValue":t[7]||(t[7]=s=>e.state.form[0].year_2=s),label:"Apr 2018 - Mar 2019","onIcon:click":t[8]||(t[8]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(e.AmountBox,{modelValue:e.state.form[0].year_3,"onUpdate:modelValue":t[9]||(t[9]=s=>e.state.form[0].year_3=s),label:"Apr 2018 - Mar 2019","onIcon:click":t[10]||(t[10]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),o(e.AmountBox,{modelValue:e.state.form[0].year_4,"onUpdate:modelValue":t[11]||(t[11]=s=>e.state.form[0].year_4=s),label:"Apr 2018 - Mar 2019","onIcon:click":t[12]||(t[12]=s=>e.state.showYearsInfoModal=!0)},null,8,["modelValue"]),l("div",Vt,[o(m,{field:"year",errors:e.state.errors,message:"Please fill at least one record"},null,8,["errors"])])])]),l("div",wt,[o(e.Question,{text:`Were you earning less than \xA350,000 a year at the
                    time you received your PPI refund?`}),l("div",It,[o(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].less_earning,"onUpdate:modelValue":t[13]||(t[13]=s=>e.state.form[0].less_earning=s),value:!0,label:"Yes"},null,8,["modelValue"]),o(e.RadioBox,{name:"self_assesment",modelValue:e.state.form[0].less_earning,"onUpdate:modelValue":t[14]||(t[14]=s=>e.state.form[0].less_earning=s),value:!1,label:"No"},null,8,["modelValue"])]),o(m,{field:"less_earning",errors:e.state.errors},null,8,["errors"])]),l("div",St,[o(e.InputText,{label:"National insurance (NI) Number",modelValue:e.state.form[0].ni_number,"onUpdate:modelValue":t[16]||(t[16]=s=>e.state.form[0].ni_number=s)},{default:C(()=>[l("span",{class:"absolute right-2 top-2 cursor-pointer",onClick:t[15]||(t[15]=s=>e.state.showNIModal=!0)},[o(N)])]),_:1},8,["modelValue"]),l("div",Ct,[o(m,{field:"invalid_ni",errors:e.state.errors,message:"Invalid NI Number"},null,8,["errors"]),o(m,{field:"ni_number",errors:e.state.errors},null,8,["errors"])])]),l("div",Mt,[o(e.SignCheckbox,{label:"Can't remember (Provide it later)"})]),l("div",Bt,[e.state.form[0].self_assesment?(i(),B(m,{key:1,class:"text-center",field:"already_assessed",errors:["already_assessed"],message:e.state.self_assesment_message},null,8,["message"])):(i(),B(h,{key:0,text:"Continue",onClick:e.stepForward}))])])):v("",!0),e.state.step==2?(i(),d("div",Nt,[o(e.StepTitle,{title:"Please complete your details below to start your claim"}),l("div",Pt,[l("div",At,[o(e.InputSelect,{class:"",label:"Title",options:e.options.title,modelValue:e.state.form[1].title,"onUpdate:modelValue":t[17]||(t[17]=s=>e.state.form[1].title=s)},null,8,["options","modelValue"])]),l("div",Tt,[o(e.InputText,{class:"",label:"First Name",modelValue:e.state.form[1].first_name,"onUpdate:modelValue":t[18]||(t[18]=s=>e.state.form[1].first_name=s)},null,8,["modelValue"])]),l("div",jt,[o(e.InputText,{class:"",label:"Last Name",modelValue:e.state.form[1].last_name,"onUpdate:modelValue":t[19]||(t[19]=s=>e.state.form[1].last_name=s)},null,8,["modelValue"])])]),o(m,{class:"mt-1",field:"name",errors:e.state.errors,message:"The above fields are required"},null,8,["errors"]),o(e.Question,{class:"mt-6",text:"DOB"}),l("div",Ut,[o(e.InputSelect,{class:"basis-1/3 pr-2",label:"Day","in-select":"",options:e.range(1,1,31),modelValue:e.state.form[1].day,"onUpdate:modelValue":t[20]||(t[20]=s=>e.state.form[1].day=s)},null,8,["options","modelValue"]),o(e.InputSelect,{class:"basis-1/3 pr-2 mt-5 sm:mt-0",label:"Month","in-select":"",options:e.options.months,modelValue:e.state.form[1].month,"onUpdate:modelValue":t[21]||(t[21]=s=>e.state.form[1].month=s)},null,8,["options","modelValue"]),o(e.InputSelect,{class:"basis-1/3 pr-2 mt-5 sm:mt-0",label:"Year","in-select":"",options:e.range(new Date().getFullYear()-100,1,new Date().getFullYear()).reverse(),modelValue:e.state.form[1].year,"onUpdate:modelValue":t[22]||(t[22]=s=>e.state.form[1].year=s)},null,8,["options","modelValue"])]),o(m,{class:"mt-1",field:"dob",errors:e.state.errors,message:"The above fields are required"},null,8,["errors"]),l("div",qt,[o(h,{class:"mt-8 mb-2",text:"Continue",onClick:e.stepForward}),o(w,{class:"font-bold",text:"Back",onClick:e.stepBack})])])):v("",!0),e.state.step==3?(i(),d("div",Ft,[o(e.StepTitle,{title:"Enter your contact details to claim your tax back"}),l("div",null,[l("div",Et,[o(e.InputText,{type:"email",label:"Email",modelValue:e.state.form[2].email,"onUpdate:modelValue":t[23]||(t[23]=s=>e.state.form[2].email=s)},null,8,["modelValue"]),o(m,{class:"mt-1",field:"email",errors:e.state.errors},null,8,["errors"])]),l("div",Ot,[o(e.InputText,{type:"tel",label:"Phone Number",modelValue:e.state.form[2].phone,"onUpdate:modelValue":t[24]||(t[24]=s=>e.state.form[2].phone=s)},null,8,["modelValue"]),o(m,{class:"mt-1",field:"phone",errors:e.state.errors},null,8,["errors"])]),l("div",Yt,[o(e.InputText,{label:"Address",modelValue:e.state.form[2].address,"onUpdate:modelValue":t[25]||(t[25]=s=>e.state.form[2].address=s)},null,8,["modelValue"]),o(m,{class:"mt-1",field:"address",errors:e.state.errors},null,8,["errors"])]),l("div",Rt,[o(e.InputText,{label:"Postcode",modelValue:e.state.form[2].postcode,"onUpdate:modelValue":t[26]||(t[26]=s=>e.state.form[2].postcode=s)},null,8,["modelValue"]),o(m,{class:"mt-1",field:"postcode",errors:e.state.errors},null,8,["errors"])])]),l("div",Dt,[o(e.SignCheckbox,{label:"I agree for Reclaim My PPI Tax to contact me with regards to any tax rebate purposes."})]),o(m,{class:"mt-2",field:"agree",errors:e.state.errors},null,8,["errors"]),l("div",Ht,[o(h,{text:"Continue",onClick:e.stepForward}),o(w,{text:"Back",onClick:e.stepBack})])])):v("",!0),e.state.step==4?(i(),d("div",Qt,[o(e.GreatNews),o(e.InputText,{label:"Do you have a referral code? (optional)",modelValue:e.state.form[3].referal_code,"onUpdate:modelValue":t[27]||(t[27]=s=>e.state.form[3].referal_code=s)},null,8,["modelValue"]),l("div",Lt,[zt,l("div",Wt,[o(P,{class:"w-full bg-white border border-green-500 rounded",ref:"signaturePad"},null,512),o(m,{class:"mt-2",field:"signature",errors:e.state.errors,message:"Signature required"},null,8,["errors"])])]),l("small",{class:"font-bold cursor-pointer",onClick:e.clearSignature},"Clear Signature"),l("div",Jt,[o(h,{disabled:e.state.loading,"no-icon":"",text:e.state.loading?"Please Wait ---":"Start Your Claim",onClick:e.submit},null,8,["disabled","text"]),o(w,{text:"Back",onClick:e.stepBack})])])):v("",!0)])])])])],64)}const Zt={__name:"App",setup(a,{expose:t}){t();const{filterEmptyKeys:r,hasSome:e,hasEvery:u,arrayIntersection:b,range:f}=Y(),x=F(null);E(()=>{});const m=A(()=>{var g;return n.form[0].cant_remember=!1,(g=n.form[0].ni_number)==null?void 0:g.length});function N(){setTimeout(()=>{console.log(n.form[0]),n.showAssesmentModal=!0},0)}function h(){const g=Object.values(n.required[n.step-1]),_=n.form[n.step-1];g.includes("ni_number")&&_.cant_remember&&g.splice(g.indexOf("ni_number"),1);const V=r(_);let y=b(V,g);if(n.step==1){u(Object.values(n.year),V)&&y.push("year"),_.self_assesment&&y.push("already_assessed");var z=new RegExp("^[a-zA-Z]{2}[0-9]{6}[a-zA-Z]{1}$");![null,""].includes(_.ni_number)&&!z.test(_.ni_number)&&y.push("invalid_ni")}if(n.step==2&&(e(Object.values(n.name),V)&&y.push("name"),e(Object.values(n.dob),V)&&y.push("dob")),n.step==3){var W=/\S+@\S+\.\S+/;_.email!=null&&!W.test(_.email)&&y.push("invalid_email"),_.phone!=null&&(_.phone.length!=11||_.phone.charAt(0)!="0")&&y.push("invalid_phone")}return n.errors=[...y],!n.errors.length}function w(){h()&&n.step>=1&&n.step<=4&&n.step++}function P(){console.log("back"),n.step>1&&n.step<=4&&n.step--}function s(){x.value.clearSignature()}async function I(){const{isEmpty:g,data:_}=x.value.saveSignature();if(g){n.errors.push("signature");return}n.loading=!0,n.form[3].signature=_;const V={...n.form[0],...n.form[1],...n.form[2],...n.form[3]};await O.post(n.url,V),n.loading=!1,window.location.href="/thank-you"}const q={filterEmptyKeys:r,hasSome:e,hasEvery:u,arrayIntersection:b,range:f,signaturePad:x,niCheckDisabled:m,selfAssesedClick:N,validate:h,stepForward:w,stepBack:P,clearSignature:s,submit:I,computed:A,onMounted:E,ref:F,axios:O,state:n,Reusable:Y,ProgressStep:Se,StepTitle:Ne,AmountTitle:Te,SignCheckbox:qe,GreatNews:Ye,RadioBox:ze,Question:U,AmountBox:et,InputText:st,InputSelect:dt,options:ct};return Object.defineProperty(q,"__isScriptSetup",{enumerable:!1,value:!0}),q}},Kt=T(Zt,[["render",Gt]]);K(Kt).use(X).component("IconInfo",$).component("IconNext",ee).component("IconPrevious",te).component("IconSelect",le).component("HasError",re).component("NextButton",ue).component("BackButton",fe).component("VueFinalModal",se).component("ModalMarkup",ve).mount("#app");
